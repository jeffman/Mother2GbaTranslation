// Equip window state machine (runs every frame)
// No parameters
// Returns -1 if B/select pressed, 0 otherwise

080BAEF8 (T)  push    r4-r7,r14                               ;9  319
080BAEFA (T)  mov     r7,r10                                  ;2  321
080BAEFC (T)  mov     r6,r9                                   ;2  323
080BAEFE (T)  mov     r5,r8                                   ;2  325
080BAF00 (T)  push    r5-r7                                   ;7  332
080BAF02 (T)  add     sp,-8h                                  ;2  334
080BAF04 (T)  ldr     r2,=3002A30h                            ;9  343
080BAF06 (T)  ldr     r0,=3002570h                            ;9  352
080BAF08 (T)  ldr     r0,[r0]                                 ;4  356
080BAF0A (T)  lsl     r1,r0,1h                                ;2  358
080BAF0C (T)  add     r1,r1,r0                                ;2  360
080BAF0E (T)  lsl     r1,r1,4h                                ;2  362
080BAF10 (T)  ldr     r0,[r2]                                 ;9  371
080BAF12 (T)  add     r0,r0,r1                                ;2  373
080BAF14 (T)  mov     r7,r0                                   ;2  375
080BAF16 (T)  add     r7,10h                                  ;2  377 r7 points to a buffer
                                                              ;       r7+0x12 is a 6-byte buffer for formatted offense/defense strings
080BAF18 (T)  ldr     r0,=3005224h                            ;9  386 menu sub-state
080BAF1A (T)  ldrh    r0,[r0]                                 ;4  390
080BAF1C (T)  sub     r0,1h                                   ;2  392
080BAF1E (T)  lsl     r0,r0,10h                               ;2  394
080BAF20 (T)  asr     r0,r0,10h                               ;2  396
080BAF22 (T)  cmp     r0,5h                                   ;2  398
080BAF24 (T)  bls     80BAF2Ah                                ;8  406

// If substate-1 > 5, return 0
080BAF26 (T)  bl      80BBEC6h                                ;10 416

// Jump table
080BAF2A (T)  lsl     r0,r0,2h                                ;2  418
080BAF2C (T)  ldr     r1,=80BAF44h                            ;9  427
080BAF2E (T)  add     r0,r0,r1                                ;2  429
080BAF30 (T)  ldr     r0,[r0]                                 ;4  433
080BAF32 (T)  mov     r15,r0                                  ;2  435

080BAF34 (T)  cmp     r2,30h                                  ;2  437
080BAF36 (T)  lsl     r0,r0,0Ch                               ;2  439
080BAF38 (T)  mov     r5,70h                                  ;2  441
080BAF3A (T)  lsl     r0,r0,0Ch                               ;2  443
080BAF3C (T)  strh    r4,[r4,r0]                              ;5  448
080BAF3E (T)  lsl     r0,r0,0Ch                               ;2  450
080BAF40 (T)  add     r7,sp,110h                              ;2  452
080BAF42 (T)  lsr     r3,r1,20h                               ;2  454
080BAF44 (T)  add     r7,sp,170h                              ;2  456
080BAF46 (T)  lsr     r3,r1,20h                               ;2  458
080BAF48 (T)  add     sp,90h                                  ;2  460
080BAF4A (T)  lsr     r3,r1,20h                               ;2  462
080BAF4C (T)  ????                                            ;8  470
080BAF4E (T)  lsr     r3,r1,20h                               ;2  472
080BAF50 (T)  ????                                            ;8  480
080BAF52 (T)  lsr     r3,r1,20h                               ;2  482
080BAF54 (T)  ????                                            ;0  482
080BAF56 (T)  lsr     r3,r1,20h                               ;2  484
080BAF58 (T)  ????                                            ;0  484
080BAF5A (T)  lsr     r3,r1,20h                               ;2  486

// ----------------------------------------------------------------------------
// ----------------------------------------------------------------------------
// ----------------------------------------------------------------------------
// ----------------------------------------------------------------------------
// Substate 1 (character select)
080BAF5C (T)  ldr     r6,=3005230h                            ;9  495
080BAF5E (T)  ldr     r0,[r6,18h]                             ;4  499
080BAF60 (T)  bl      80C4EB0h                                ;10 509
080BAF64 (T)  lsl     r0,r0,10h                               ;2  511
080BAF66 (T)  asr     r5,r0,10h                               ;2  513
080BAF68 (T)  cmp     r5,1h                                   ;2  515
080BAF6A (T)  bne     80BAFB0h                                ;8  523
080BAF6C (T)  mov     r0,0h                                   ;2  525
080BAF6E (T)  mov     r1,0F0h                                 ;2  527
080BAF70 (T)  mov     r2,14h                                  ;2  529
080BAF72 (T)  mov     r3,5h                                   ;2  531
080BAF74 (T)  bl      8000364h                                ;10 541
080BAF78 (T)  ldr     r1,=3005224h                            ;9  550
080BAF7A (T)  mov     r0,2h                                   ;2  552
080BAF7C (T)  strh    r0,[r1]                                 ;5  557
080BAF7E (T)  ldr     r0,[r6,18h]                             ;4  561
080BAF80 (T)  mov     r4,0h                                   ;2  563
080BAF82 (T)  strh    r4,[r0,36h]                             ;5  568
080BAF84 (T)  strh    r4,[r0,34h]                             ;5  573
080BAF86 (T)  ldr     r0,=8B17EE4h                            ;9  582
080BAF88 (T)  ldr     r1,=8B17424h                            ;9  591
080BAF8A (T)  mov     r2,23h                                  ;2  593
080BAF8C (T)  bl      m2_strlookup                            ;10 603
080BAF90 (T)  mov     r1,r0                                   ;2  605
080BAF92 (T)  ldr     r0,[r6,0Ch]                             ;4  609
080BAF94 (T)  mov     r2,0h                                   ;2  611
080BAF96 (T)  bl      m2_initwindow                           ;10 621
080BAF9A (T)  ldr     r0,[r6,0Ch]                             ;4  625
080BAF9C (T)  bl      80C8BE4h                                ;10 635
080BAFA0 (T)  ldr     r0,[r6,18h]                             ;4  639
080BAFA2 (T)  strh    r4,[r0,32h]                             ;5  644
080BAFA4 (T)  mov     r0,0h                                   ;2  646
080BAFA6 (T)  mov     r1,0F0h                                 ;2  648
080BAFA8 (T)  mov     r2,14h                                  ;2  650
080BAFAA (T)  mov     r3,5h                                   ;2  652
080BAFAC (T)  bl      8000364h                                ;10 662
080BAFB0 (T)  ldr     r0,=m2_active_window_pc                 ;9  671
080BAFB2 (T)  mov     r1,0h                                   ;2  673
080BAFB4 (T)  ldsh    r0,[r0,r1]                              ;4  677
080BAFB6 (T)  bl      m2_hpwindow_up                          ;10 687
080BAFBA (T)  mov     r0,1h                                   ;2  689
080BAFBC (T)  neg     r0,r0                                   ;2  691
080BAFBE (T)  cmp     r5,r0                                   ;2  693
080BAFC0 (T)  bne     80BAFC4h                                ;8  701
080BAFC2 (T)  b       80BB1DCh                                ;8  709
080BAFC4 (T)  bl      80BC034h                                ;10 719
080BAFC8 (T)  lsl     r0,r0,18h                               ;2  721
080BAFCA (T)  lsr     r0,r0,18h                               ;2  723
080BAFCC (T)  mov     r5,r7                                   ;2  725
080BAFCE (T)  add     r5,12h                                  ;2  727
080BAFD0 (T)  mov     r1,r5                                   ;2  729
080BAFD2 (T)  mov     r2,3h                                   ;2  731
080BAFD4 (T)  bl      80CA65Ch                                ;10 741
080BAFD8 (T)  mov     r4,0h                                   ;2  743
080BAFDA (T)  strb    r4,[r7,15h]                             ;5  748
080BAFDC (T)  mov     r0,0FFh                                 ;2  750
080BAFDE (T)  strb    r0,[r7,16h]                             ;5  755
080BAFE0 (T)  ldr     r0,[r6,14h]                             ;4  759
080BAFE2 (T)  str     r4,[sp]                                 ;5  764
080BAFE4 (T)  mov     r1,r5                                   ;2  766
080BAFE6 (T)  mov     r2,7h                                   ;2  768
080BAFE8 (T)  mov     r3,0h                                   ;2  770
080BAFEA (T)  bl      m2_printstr                             ;10 780
080BAFEE (T)  bl      80BC0CCh                                ;10 790
080BAFF2 (T)  lsl     r0,r0,18h                               ;2  792
080BAFF4 (T)  lsr     r0,r0,18h                               ;2  794
080BAFF6 (T)  mov     r1,r5                                   ;2  796
080BAFF8 (T)  mov     r2,3h                                   ;2  798
080BAFFA (T)  bl      80CA65Ch                                ;10 808
080BAFFE (T)  strb    r4,[r7,15h]                             ;5  813
080BB000 (T)  mov     r0,1h                                   ;2  815
080BB002 (T)  neg     r0,r0                                   ;2  817
080BB004 (T)  strb    r0,[r7,16h]                             ;5  822
080BB006 (T)  ldr     r0,[r6,14h]                             ;4  826
080BB008 (T)  str     r4,[sp]                                 ;5  831
080BB00A (T)  mov     r1,r5                                   ;2  833
080BB00C (T)  mov     r2,7h                                   ;2  835
080BB00E (T)  b       80BB1A8h                                ;8  843
080BB010 (T)  strh    r0,[r6,r0]                              ;5  848
080BB012 (T)  lsl     r0,r0,0Ch                               ;2  850
080BB014 (T)  strh    r4,[r4,r0]                              ;5  855
080BB016 (T)  lsl     r0,r0,0Ch                               ;2  857
080BB018 (T)  ldrb    r4,[r4,1Bh]                             ;4  861
080BB01A (T)  lsr     r1,r6,2h                                ;2  863
080BB01C (T)  strb    r4,[r4,10h]                             ;5  868
080BB01E (T)  lsr     r1,r6,2h                                ;2  870
080BB020 (T)  strh    r4,[r4,r1]                              ;5  875
080BB022 (T)  lsl     r0,r0,0Ch                               ;2  877

// ----------------------------------------------------------------------------
// ----------------------------------------------------------------------------
// ----------------------------------------------------------------------------
// ----------------------------------------------------------------------------
// Substate 2 (slot select)
080BB024 (T)  ldr     r2,=3005230h                            ;9  886
080BB026 (T)  mov     r9,r2                                   ;2  888
080BB028 (T)  ldr     r0,[r2,18h]                             ;9  897
080BB02A (T)  ldr     r1,=8B1B3A0h                            ;9  906
080BB02C (T)  bl      80BE53Ch                                ;10 916
080BB030 (T)  lsl     r0,r0,10h                               ;2  918
080BB032 (T)  asr     r1,r0,10h                               ;2  920
080BB034 (T)  cmp     r1,0h                                   ;2  922
080BB036 (T)  bgt     80BB03Ah                                ;8  930
080BB038 (T)  b       80BB1C4h                                ;8  938
080BB03A (T)  lsr     r4,r0,1Fh                               ;2  940
080BB03C (T)  add     r4,r1,r4                                ;2  942
080BB03E (T)  ldr     r3,=3005224h                            ;9  951
080BB040 (T)  mov     r8,r3                                   ;2  953
080BB042 (T)  asr     r4,r4,1h                                ;2  955
080BB044 (T)  add     r0,r4,3                                 ;2  957
080BB046 (T)  strh    r0,[r3]                                 ;8  965
080BB048 (T)  ldr     r5,=8B17EE4h                            ;9  974
080BB04A (T)  ldr     r6,=8B17424h                            ;9  983
080BB04C (T)  mov     r0,r5                                   ;2  985
080BB04E (T)  mov     r1,r6                                   ;2  987
080BB050 (T)  mov     r2,24h                                  ;2  989
080BB052 (T)  bl      m2_strlookup                            ;10 999
080BB056 (T)  mov     r1,r0                                   ;2  1001
080BB058 (T)  mov     r2,r9                                   ;2  1003
080BB05A (T)  ldr     r0,[r2,0Ch]                             ;9  1012
080BB05C (T)  mov     r2,0h                                   ;2  1014
080BB05E (T)  bl      m2_initwindow                           ;10 1024
080BB062 (T)  mov     r3,r9                                   ;2  1026
080BB064 (T)  ldr     r0,[r3,0Ch]                             ;9  1035
080BB066 (T)  bl      80C8BE4h                                ;10 1045
080BB06A (T)  mov     r2,r4                                   ;2  1047
080BB06C (T)  add     r2,26h                                  ;2  1049
080BB06E (T)  lsl     r2,r2,10h                               ;2  1051
080BB070 (T)  asr     r2,r2,10h                               ;2  1053
080BB072 (T)  mov     r0,r5                                   ;2  1055
080BB074 (T)  mov     r1,r6                                   ;2  1057
080BB076 (T)  bl      m2_strlookup                            ;10 1067
080BB07A (T)  mov     r1,r0                                   ;2  1069
080BB07C (T)  mov     r2,r9                                   ;2  1071
080BB07E (T)  ldr     r0,[r2,18h]                             ;9  1080
080BB080 (T)  mov     r2,36h                                  ;2  1082
080BB082 (T)  ldsh    r3,[r0,r2]                              ;7  1089
080BB084 (T)  mov     r5,1h                                   ;2  1091
080BB086 (T)  str     r5,[sp]                                 ;5  1096
080BB088 (T)  mov     r2,1h                                   ;2  1098
080BB08A (T)  bl      m2_printstr                             ;10 1108
080BB08E (T)  mov     r3,r9                                   ;2  1110
080BB090 (T)  ldr     r0,[r3,10h]                             ;9  1119
080BB092 (T)  mov     r1,0Eh                                  ;2  1121
080BB094 (T)  str     r1,[sp]                                 ;5  1126
080BB096 (T)  mov     r1,12h                                  ;2  1128
080BB098 (T)  mov     r2,1h                                   ;2  1130
080BB09A (T)  mov     r3,0Bh                                  ;2  1132
080BB09C (T)  bl      80BE188h                                ;10 1142
080BB0A0 (T)  mov     r1,r9                                   ;2  1144
080BB0A2 (T)  ldr     r0,[r1,10h]                             ;4  1148
080BB0A4 (T)  mov     r1,0h                                   ;2  1150
080BB0A6 (T)  mov     r2,0h                                   ;2  1152
080BB0A8 (T)  bl      m2_initwindow                           ;10 1162
080BB0AC (T)  mov     r2,r9                                   ;2  1164
080BB0AE (T)  ldr     r0,[r2,10h]                             ;9  1173
080BB0B0 (T)  mov     r3,r8                                   ;2  1175
080BB0B2 (T)  mov     r2,0h                                   ;2  1177
080BB0B4 (T)  ldsh    r1,[r3,r2]                              ;4  1181
080BB0B6 (T)  add     r2,r7,4                                 ;2  1183
080BB0B8 (T)  bl      80C51A0h                                ;10 1193
080BB0BC (T)  mov     r3,r9                                   ;2  1195
080BB0BE (T)  ldr     r1,[r3,10h]                             ;9  1204
080BB0C0 (T)  mov     r2,0h                                   ;2  1206
080BB0C2 (T)  strh    r0,[r1,34h]                             ;5  1211
080BB0C4 (T)  ldr     r0,[r3,10h]                             ;9  1220
080BB0C6 (T)  strh    r2,[r0,32h]                             ;5  1225
080BB0C8 (T)  ldr     r0,[r3,10h]                             ;9  1234
080BB0CA (T)  strh    r2,[r0,36h]                             ;5  1239
080BB0CC (T)  ldr     r0,[r3,10h]                             ;9  1248
080BB0CE (T)  add     r0,40h                                  ;2  1250
080BB0D0 (T)  strh    r2,[r0]                                 ;5  1255
080BB0D2 (T)  ldr     r0,[r3,10h]                             ;9  1264
080BB0D4 (T)  strh    r2,[r0,3Ch]                             ;5  1269
080BB0D6 (T)  ldr     r2,[r3,10h]                             ;9  1278
080BB0D8 (T)  lsl     r0,r4,2h                                ;2  1280
080BB0DA (T)  add     r0,r0,r4                                ;2  1282
080BB0DC (T)  ldr     r1,=.byt                                ;9  1291
080BB0DE (T)  add     r0,r0,r1                                ;2  1293
080BB0E0 (T)  str     r0,[r2,4h]                              ;10 1303
080BB0E2 (T)  add     r2,44h                                  ;2  1305
080BB0E4 (T)  strb    r5,[r2]                                 ;8  1313
080BB0E6 (T)  mov     r0,0h                                   ;2  1315
080BB0E8 (T)  str     r0,[sp,4h]                              ;5  1320
080BB0EA (T)  mov     r1,12h                                  ;2  1322
080BB0EC (T)  add     r1,r1,r7                                ;2  1324
080BB0EE (T)  mov     r10,r1                                  ;2  1326
080BB0F0 (T)  mov     r8,r9                                   ;2  1328
080BB0F2 (T)  mov     r2,r8                                   ;2  1330
080BB0F4 (T)  ldr     r0,[r2,10h]                             ;9  1339
080BB0F6 (T)  ldr     r0,[r0,10h]                             ;4  1343
080BB0F8 (T)  ldr     r3,[sp,4h]                              ;4  1347
080BB0FA (T)  lsl     r4,r3,10h                               ;2  1349
080BB0FC (T)  asr     r5,r4,10h                               ;2  1351
080BB0FE (T)  add     r0,4h                                   ;2  1353
080BB100 (T)  add     r0,r0,r5                                ;2  1355
080BB102 (T)  ldrb    r0,[r0]                                 ;4  1359
080BB104 (T)  bl      m2_isequipped                           ;10 1369
080BB108 (T)  lsl     r0,r0,18h                               ;2  1371
080BB10A (T)  lsr     r0,r0,18h                               ;2  1373
080BB10C (T)  mov     r6,r4                                   ;2  1375
080BB10E (T)  cmp     r0,1h                                   ;2  1377
080BB110 (T)  bne     80BB168h                                ;8  1385
080BB112 (T)  mov     r0,r8                                   ;2  1387
080BB114 (T)  ldr     r4,[r0,10h]                             ;4  1391
080BB116 (T)  mov     r1,34h                                  ;2  1393
080BB118 (T)  ldsh    r0,[r4,r1]                              ;4  1397
080BB11A (T)  cmp     r0,6h                                   ;2  1399
080BB11C (T)  bgt     80BB14Ch                                ;8  1407
080BB11E (T)  mov     r0,r4                                   ;2  1409
080BB120 (T)  add     r0,40h                                  ;2  1411
080BB122 (T)  mov     r1,0h                                   ;2  1413
080BB124 (T)  strh    r1,[r0]                                 ;5  1418
080BB126 (T)  mov     r2,r8                                   ;2  1420
080BB128 (T)  ldr     r0,[r2,10h]                             ;9  1429
080BB12A (T)  mov     r3,r13                                  ;2  1431
080BB12C (T)  ldrh    r3,[r3,4h]                              ;7  1438
080BB12E (T)  strh    r3,[r0,36h]                             ;5  1443
080BB130 (T)  b       80BB168h                                ;8  1451
080BB132 (T)  lsl     r0,r0,0h                                ;2  1453
080BB134 (T)  strh    r0,[r6,r0]                              ;5  1458
080BB136 (T)  lsl     r0,r0,0Ch                               ;2  1460
080BB138 (T)  ????                                            ;8  1468
080BB13A (T)  lsr     r1,r6,2h                                ;2  1470
080BB13C (T)  strh    r4,[r4,r0]                              ;5  1475
080BB13E (T)  lsl     r0,r0,0Ch                               ;2  1477
080BB140 (T)  ldrb    r4,[r4,1Bh]                             ;4  1481
080BB142 (T)  lsr     r1,r6,2h                                ;2  1483
080BB144 (T)  strb    r4,[r4,10h]                             ;5  1488
080BB146 (T)  lsr     r1,r6,2h                                ;2  1490
:             cmp     r7,r10                                  ;2  1492
080BB14A (T)  lsr     r7,r6,2h                                ;2  1494
080BB14C (T)  mov     r0,r5                                   ;2  1496
080BB14E (T)  mov     r1,5h                                   ;2  1498
080BB150 (T)  bl      m2_div                                  ;10 1508
080BB154 (T)  mov     r1,r4                                   ;2  1510
080BB156 (T)  add     r1,40h                                  ;2  1512
080BB158 (T)  strh    r0,[r1]                                 ;5  1517
080BB15A (T)  mov     r0,r8                                   ;2  1519
080BB15C (T)  ldr     r4,[r0,10h]                             ;4  1523
080BB15E (T)  mov     r0,r5                                   ;2  1525
080BB160 (T)  mov     r1,5h                                   ;2  1527
080BB162 (T)  bl      80F4A70h                                ;10 1537
080BB166 (T)  strh    r0,[r4,36h]                             ;5  1542
080BB168 (T)  mov     r1,80h                                  ;2  1544
080BB16A (T)  lsl     r1,r1,9h                                ;2  1546
080BB16C (T)  add     r0,r6,r1                                ;2  1548
080BB16E (T)  lsr     r2,r0,10h                               ;2  1550
080BB170 (T)  str     r2,[sp,4h]                              ;5  1555
080BB172 (T)  asr     r0,r0,10h                               ;2  1557
080BB174 (T)  cmp     r0,0Dh                                  ;2  1559
080BB176 (T)  ble     80BB0F2h                                ;8  1567
080BB178 (T)  ldr     r5,=3005230h                            ;9  1576
080BB17A (T)  ldr     r0,[r5,10h]                             ;5  1581
080BB17C (T)  bl      80C5500h                                ;10 1591
080BB180 (T)  ldr     r0,[r5,10h]                             ;5  1596
080BB182 (T)  mov     r1,0h                                   ;2  1598
080BB184 (T)  mov     r4,0h                                   ;2  1600
080BB186 (T)  strh    r4,[r0,32h]                             ;5  1605
080BB188 (T)  mov     r0,5Fh                                  ;2  1607
080BB18A (T)  strb    r0,[r7,12h]                             ;5  1612
080BB18C (T)  strb    r1,[r7,13h]                             ;5  1617
080BB18E (T)  mov     r0,0FFh                                 ;2  1619
080BB190 (T)  strb    r0,[r7,14h]                             ;5  1624
080BB192 (T)  ldr     r0,[r5,14h]                             ;5  1629
080BB194 (T)  str     r4,[sp]                                 ;5  1634
080BB196 (T)  mov     r1,r10                                  ;2  1636
080BB198 (T)  mov     r2,0Ah                                  ;2  1638
080BB19A (T)  mov     r3,0h                                   ;2  1640
080BB19C (T)  bl      m2_printstr                             ;10 1650
080BB1A0 (T)  ldr     r0,[r5,14h]                             ;5  1655
080BB1A2 (T)  str     r4,[sp]                                 ;5  1660
080BB1A4 (T)  mov     r1,r10                                  ;2  1662
080BB1A6 (T)  mov     r2,0Ah                                  ;2  1664
080BB1A8 (T)  mov     r3,1h                                   ;2  1666
080BB1AA (T)  bl      m2_printstr                             ;10 1676
080BB1AE (T)  mov     r0,0h                                   ;2  1678
080BB1B0 (T)  mov     r1,0F0h                                 ;2  1680
080BB1B2 (T)  mov     r2,14h                                  ;2  1682
080BB1B4 (T)  mov     r3,5h                                   ;2  1684
080BB1B6 (T)  bl      8000364h                                ;10 1694
080BB1BA (T)  bl      80BBEC6h                                ;10 1704
080BB1BE (T)  lsl     r0,r0,0h                                ;2  1706
080BB1C0 (T)  strh    r0,[r6,r0]                              ;5  1711
080BB1C2 (T)  lsl     r0,r0,0Ch                               ;2  1713
080BB1C4 (T)  mov     r0,1h                                   ;2  1715
080BB1C6 (T)  neg     r0,r0                                   ;2  1717
080BB1C8 (T)  cmp     r1,r0                                   ;2  1719
080BB1CA (T)  beq     80BB1D0h                                ;8  1727
080BB1CC (T)  bl      80BBEC6h                                ;10 1737
080BB1D0 (T)  ldr     r0,=3001D40h                            ;9  1746
080BB1D2 (T)  ldr     r3,=1CBh                                ;9  1755
080BB1D4 (T)  add     r6,r0,r3                                ;2  1757
080BB1D6 (T)  ldrb    r0,[r6]                                 ;4  1761
080BB1D8 (T)  cmp     r0,1h                                   ;2  1763
080BB1DA (T)  bne     80BB1ECh                                ;8  1771
080BB1DC (T)  mov     r0,1h                                   ;2  1773
080BB1DE (T)  neg     r0,r0                                   ;2  1775
080BB1E0 (T)  bl      80BBEC8h                                ;10 1785
080BB1E4 (T)  add     r0,r0,5                                 ;2  1787
080BB1E6 (T)  lsl     r0,r0,0Ch                               ;2  1789
080BB1E8 (T)  lsl     r3,r1,7h                                ;2  1791
080BB1EA (T)  lsl     r0,r0,0h                                ;2  1793
080BB1EC (T)  ldr     r1,=3005224h                            ;9  1802
080BB1EE (T)  mov     r0,1h                                   ;2  1804
080BB1F0 (T)  strh    r0,[r1]                                 ;5  1809
080BB1F2 (T)  mov     r0,0h                                   ;2  1811
080BB1F4 (T)  mov     r1,0F0h                                 ;2  1813
080BB1F6 (T)  bl      8000398h                                ;10 1823
080BB1FA (T)  mov     r4,0h                                   ;2  1825
080BB1FC (T)  mov     r0,4Dh                                  ;2  1827
080BB1FE (T)  strb    r0,[r7,15h]                             ;5  1832
080BB200 (T)  strb    r0,[r7,14h]                             ;5  1837
080BB202 (T)  strb    r0,[r7,13h]                             ;5  1842
080BB204 (T)  strb    r0,[r7,12h]                             ;5  1847
080BB206 (T)  strb    r4,[r7,16h]                             ;5  1852
080BB208 (T)  mov     r0,0FFh                                 ;2  1854
080BB20A (T)  strb    r0,[r7,17h]                             ;5  1859
080BB20C (T)  mov     r1,r9                                   ;2  1861
080BB20E (T)  ldr     r0,[r1,14h]                             ;4  1865
080BB210 (T)  mov     r5,r7                                   ;2  1867
080BB212 (T)  add     r5,12h                                  ;2  1869
080BB214 (T)  str     r4,[sp]                                 ;5  1874
080BB216 (T)  mov     r0,0Ch                                  ;2  1876
080BB218 (T)  mov     r1,0Bh                                  ;2  1878
080BB21A (T)  mov     r2,4h                                   ;2  1880
080BB21C (T)  bl      print_blankstr                          ;10 1890
080BB220 (T)  mov     r2,r9                                   ;2  1892
080BB222 (T)  ldr     r0,[r2,14h]                             ;9  1901
080BB224 (T)  str     r4,[sp]                                 ;5  1906
080BB226 (T)  mov     r0,0Ch                                  ;2  1908
080BB228 (T)  mov     r1,0Dh                                  ;2  1910
080BB22A (T)  mov     r2,4h                                   ;2  1912
080BB22C (T)  bl      print_blankstr                          ;10 1922
080BB230 (T)  ldrb    r0,[r6]                                 ;4  1926
080BB232 (T)  cmp     r0,1h                                   ;2  1928
080BB234 (T)  bhi     80BB23Ah                                ;8  1936
080BB236 (T)  bl      80BBEC6h                                ;10 1946
080BB23A (T)  ldr     r0,=8B17EE4h                            ;9  1955
080BB23C (T)  ldr     r1,=8B17424h                            ;9  1964
080BB23E (T)  mov     r2,0Ah                                  ;2  1966
080BB240 (T)  bl      m2_strlookup                            ;10 1976
080BB244 (T)  mov     r1,r0                                   ;2  1978
080BB246 (T)  mov     r3,r9                                   ;2  1980
080BB248 (T)  ldr     r0,[r3,0Ch]                             ;9  1989
080BB24A (T)  mov     r2,0h                                   ;2  1991
080BB24C (T)  bl      m2_initwindow                           ;10 2001
080BB250 (T)  mov     r1,r9                                   ;2  2003
080BB252 (T)  ldr     r0,[r1,0Ch]                             ;4  2007
080BB254 (T)  bl      80C8BE4h                                ;10 2017
080BB258 (T)  bl      80BBEC6h                                ;10 2027
080BB25C (T)  strh    r4,[r4,r0]                              ;5  2032
080BB25E (T)  lsl     r0,r0,0Ch                               ;2  2034
080BB260 (T)  ldrb    r4,[r4,1Bh]                             ;4  2038
080BB262 (T)  lsr     r1,r6,2h                                ;2  2040
080BB264 (T)  strb    r4,[r4,10h]                             ;5  2045
080BB266 (T)  lsr     r1,r6,2h                                ;2  2047

// ----------------------------------------------------------------------------
// ----------------------------------------------------------------------------
// ----------------------------------------------------------------------------
// ----------------------------------------------------------------------------
// Substate 3 (Weapon select)
080BB268 (T)  ldr     r2,=3005230h                            ;9  2056
080BB26A (T)  mov     r9,r2                                   ;2  2058
080BB26C (T)  ldr     r0,[r2,10h]                             ;9  2067
080BB26E (T)  bl      80C5500h                                ;10 2077
080BB272 (T)  lsl     r0,r0,10h                               ;2  2079
080BB274 (T)  lsr     r2,r0,10h                               ;2  2081
080BB276 (T)  ldr     r0,=3002500h                            ;9  2090
080BB278 (T)  ldrh    r1,[r0]                                 ;4  2094
080BB27A (T)  ldr     r0,=207h                                ;9  2103
080BB27C (T)  and     r0,r1                                   ;2  2105
080BB27E (T)  cmp     r0,0h                                   ;2  2107
080BB280 (T)  bne     80BB284h                                ;8  2115
080BB282 (T)  b       80BB624h                                ;8  2123
080BB284 (T)  lsl     r0,r2,10h                               ;2  2125
080BB286 (T)  asr     r1,r0,10h                               ;2  2127
080BB288 (T)  mov     r0,1h                                   ;2  2129
080BB28A (T)  neg     r0,r0                                   ;2  2131
080BB28C (T)  cmp     r1,r0                                   ;2  2133
080BB28E (T)  beq     80BB292h                                ;8  2141
080BB290 (T)  b       80BB3C0h                                ;8  2149
080BB292 (T)  mov     r3,r9                                   ;2  2151
080BB294 (T)  ldr     r0,[r3,10h]                             ;9  2160
080BB296 (T)  bl      80CA904h                                ;10 2170
080BB29A (T)  mov     r0,0h                                   ;2  2172
080BB29C (T)  mov     r1,0F0h                                 ;2  2174
080BB29E (T)  mov     r2,14h                                  ;2  2176
080BB2A0 (T)  mov     r3,5h                                   ;2  2178
080BB2A2 (T)  bl      8000364h                                ;10 2188
080BB2A6 (T)  ldr     r1,=3005224h                            ;9  2197
080BB2A8 (T)  mov     r0,2h                                   ;2  2199
080BB2AA (T)  strh    r0,[r1]                                 ;5  2204
080BB2AC (T)  ldr     r4,=8B17EE4h                            ;9  2213
080BB2AE (T)  ldr     r5,=8B17424h                            ;9  2222
080BB2B0 (T)  mov     r0,r4                                   ;2  2224
080BB2B2 (T)  mov     r1,r5                                   ;2  2226
080BB2B4 (T)  mov     r2,25h                                  ;2  2228
080BB2B6 (T)  bl      m2_strlookup                            ;10 2238
080BB2BA (T)  mov     r1,r0                                   ;2  2240
080BB2BC (T)  mov     r2,r9                                   ;2  2242
080BB2BE (T)  ldr     r0,[r2,18h]                             ;9  2251
080BB2C0 (T)  mov     r2,0h                                   ;2  2253
080BB2C2 (T)  bl      m2_initwindow                           ;10 2263
080BB2C6 (T)  mov     r3,r9                                   ;2  2265
080BB2C8 (T)  ldr     r0,[r3,18h]                             ;9  2274
080BB2CA (T)  bl      80C8BE4h                                ;10 2284
080BB2CE (T)  mov     r0,r4                                   ;2  2286
080BB2D0 (T)  mov     r1,r5                                   ;2  2288
080BB2D2 (T)  mov     r2,23h                                  ;2  2290
080BB2D4 (T)  bl      m2_strlookup                            ;10 2300
080BB2D8 (T)  mov     r1,r0                                   ;2  2302
080BB2DA (T)  mov     r2,r9                                   ;2  2304
080BB2DC (T)  ldr     r0,[r2,0Ch]                             ;9  2313
080BB2DE (T)  mov     r2,0h                                   ;2  2315
080BB2E0 (T)  bl      m2_initwindow                           ;10 2325
080BB2E4 (T)  mov     r3,r9                                   ;2  2327
080BB2E6 (T)  ldr     r0,[r3,0Ch]                             ;9  2336
080BB2E8 (T)  bl      80C8BE4h                                ;10 2346
080BB2EC (T)  mov     r1,r9                                   ;2  2348
080BB2EE (T)  ldr     r0,[r1,18h]                             ;4  2352
080BB2F0 (T)  mov     r5,0h                                   ;2  2354
080BB2F2 (T)  strh    r5,[r0,34h]                             ;5  2359
080BB2F4 (T)  ldr     r0,[r1,18h]                             ;4  2363
080BB2F6 (T)  bl      80C4B2Ch                                ;10 2373
080BB2FA (T)  mov     r2,r9                                   ;2  2375
080BB2FC (T)  ldr     r0,[r2,18h]                             ;9  2384
080BB2FE (T)  ldr     r1,=8B1B3A0h                            ;9  2393
080BB300 (T)  bl      80BE53Ch                                ;10 2403
080BB304 (T)  mov     r3,r9                                   ;2  2405
080BB306 (T)  ldr     r0,[r3,18h]                             ;9  2414
080BB308 (T)  strh    r5,[r0,32h]                             ;5  2419
080BB30A (T)  ldr     r0,=3001D40h                            ;9  2428
080BB30C (T)  mov     r10,r0                                  ;2  2430
080BB30E (T)  ldr     r1,=m2_active_window_pc                 ;9  2439
080BB310 (T)  mov     r8,r1                                   ;2  2441
080BB312 (T)  mov     r2,0h                                   ;2  2443
080BB314 (T)  ldsh    r0,[r1,r2]                              ;7  2450
080BB316 (T)  mov     r6,6Ch                                  ;2  2452
080BB318 (T)  mul     r0,r6                                   ;3  2455
080BB31A (T)  add     r0,r10                                  ;2  2457
080BB31C (T)  add     r0,63h                                  ;2  2459
080BB31E (T)  ldrb    r0,[r0]                                 ;4  2463
080BB320 (T)  mov     r4,r7                                   ;2  2465
080BB322 (T)  add     r4,12h                                  ;2  2467
080BB324 (T)  mov     r1,r4                                   ;2  2469
080BB326 (T)  mov     r2,3h                                   ;2  2471
080BB328 (T)  bl      80CA65Ch                                ;10 2481
080BB32C (T)  mov     r3,0h                                   ;2  2483
080BB32E (T)  strb    r3,[r7,15h]                             ;5  2488
080BB330 (T)  mov     r0,0FFh                                 ;2  2490
080BB332 (T)  strb    r0,[r7,16h]                             ;5  2495
080BB334 (T)  mov     r1,r9                                   ;2  2497
080BB336 (T)  ldr     r0,[r1,14h]                             ;4  2501
080BB338 (T)  str     r5,[sp]                                 ;5  2506
080BB33A (T)  mov     r1,r4                                   ;2  2508
080BB33C (T)  mov     r2,7h                                   ;2  2510
080BB33E (T)  mov     r3,0h                                   ;2  2512
080BB340 (T)  bl      m2_printstr                             ;10 2522
080BB344 (T)  mov     r2,r8                                   ;2  2524
080BB346 (T)  mov     r3,0h                                   ;2  2526
080BB348 (T)  ldsh    r0,[r2,r3]                              ;4  2530
080BB34A (T)  mul     r0,r6                                   ;3  2533
080BB34C (T)  add     r0,r10                                  ;2  2535
080BB34E (T)  add     r0,64h                                  ;2  2537
080BB350 (T)  ldrb    r0,[r0]                                 ;4  2541
080BB352 (T)  mov     r1,r4                                   ;2  2543
080BB354 (T)  mov     r2,3h                                   ;2  2545
080BB356 (T)  bl      80CA65Ch                                ;10 2555
080BB35A (T)  mov     r0,0h                                   ;2  2557
080BB35C (T)  strb    r0,[r7,15h]                             ;5  2562
080BB35E (T)  mov     r0,1h                                   ;2  2564
080BB360 (T)  neg     r0,r0                                   ;2  2566
080BB362 (T)  strb    r0,[r7,16h]                             ;5  2571
080BB364 (T)  mov     r1,r9                                   ;2  2573
080BB366 (T)  ldr     r0,[r1,14h]                             ;4  2577
080BB368 (T)  str     r5,[sp]                                 ;5  2582
080BB36A (T)  mov     r1,r4                                   ;2  2584
080BB36C (T)  mov     r2,7h                                   ;2  2586
080BB36E (T)  mov     r3,1h                                   ;2  2588
080BB370 (T)  bl      m2_printstr                             ;10 2598
080BB374 (T)  mov     r0,4Dh                                  ;2  2600
080BB376 (T)  strb    r0,[r7,15h]                             ;5  2605
080BB378 (T)  strb    r0,[r7,14h]                             ;5  2610
080BB37A (T)  strb    r0,[r7,13h]                             ;5  2615
080BB37C (T)  strb    r0,[r7,12h]                             ;5  2620
080BB37E (T)  mov     r2,0h                                   ;2  2622
080BB380 (T)  strb    r2,[r7,16h]                             ;5  2627
080BB382 (T)  sub     r0,4Eh                                  ;2  2629
080BB384 (T)  strb    r0,[r7,17h]                             ;5  2634
080BB386 (T)  mov     r3,r9                                   ;2  2636
080BB388 (T)  ldr     r0,[r3,14h]                             ;9  2645
080BB38A (T)  str     r5,[sp]                                 ;5  2650
080BB38C (T)  mov     r0,0Ch                                  ;2  2652
080BB38E (T)  mov     r1,0Bh                                  ;2  2654
080BB390 (T)  mov     r2,4h                                   ;2  2656
080BB392 (T)  bl      print_blankstr                          ;10 2666
080BB396 (T)  mov     r1,r9                                   ;2  2668
080BB398 (T)  b       80BBABAh                                ;8  2676
080BB39A (T)  lsl     r0,r0,0h                                ;2  2678
080BB39C (T)  strh    r0,[r6,r0]                              ;5  2683
080BB39E (T)  lsl     r0,r0,0Ch                               ;2  2685
080BB3A0 (T)  mov     r5,0h                                   ;2  2687
080BB3A2 (T)  lsl     r0,r0,0Ch                               ;2  2689
080BB3A4 (T)  lsl     r7,r0,8h                                ;2  2691
080BB3A6 (T)  lsl     r0,r0,0h                                ;2  2693
080BB3A8 (T)  strh    r4,[r4,r0]                              ;5  2698
080BB3AA (T)  lsl     r0,r0,0Ch                               ;2  2700
080BB3AC (T)  ldrb    r4,[r4,1Bh]                             ;4  2704
080BB3AE (T)  lsr     r1,r6,2h                                ;2  2706
080BB3B0 (T)  strb    r4,[r4,10h]                             ;5  2711
080BB3B2 (T)  lsr     r1,r6,2h                                ;2  2713
080BB3B4 (T)  ????                                            ;8  2721
080BB3B6 (T)  lsr     r1,r6,2h                                ;2  2723
080BB3B8 (T)  add     r0,r0,5                                 ;2  2725
080BB3BA (T)  lsl     r0,r0,0Ch                               ;2  2727
080BB3BC (T)  strh    r4,[r4,r1]                              ;5  2732
080BB3BE (T)  lsl     r0,r0,0Ch                               ;2  2734
080BB3C0 (T)  cmp     r1,0FDh                                 ;2  2736
080BB3C2 (T)  beq     80BB3C6h                                ;8  2744
080BB3C4 (T)  b       80BB4ECh                                ;8  2752
080BB3C6 (T)  mov     r0,0h                                   ;2  2754
080BB3C8 (T)  bl      80BBF64h                                ;10 2764
080BB3CC (T)  mov     r2,r9                                   ;2  2766
080BB3CE (T)  ldr     r0,[r2,10h]                             ;9  2775
080BB3D0 (T)  bl      80CA904h                                ;10 2785
080BB3D4 (T)  mov     r0,0h                                   ;2  2787
080BB3D6 (T)  mov     r1,0F0h                                 ;2  2789
080BB3D8 (T)  mov     r2,14h                                  ;2  2791
080BB3DA (T)  mov     r3,5h                                   ;2  2793
080BB3DC (T)  bl      8000364h                                ;10 2803
080BB3E0 (T)  ldr     r1,=3005224h                            ;9  2812
080BB3E2 (T)  bl      baef8_reequip_erase                     ;10 2822
080BB3E6 (T)  ldr     r4,=8B17EE4h                            ;9  2831
080BB3E8 (T)  ldr     r5,=8B17424h                            ;9  2840
080BB3EA (T)  mov     r0,r4                                   ;2  2842
080BB3EC (T)  mov     r1,r5                                   ;2  2844
080BB3EE (T)  mov     r2,25h                                  ;2  2846
080BB3F0 (T)  bl      m2_strlookup                            ;10 2856
080BB3F4 (T)  mov     r1,r0                                   ;2  2858
080BB3F6 (T)  mov     r3,r9                                   ;2  2860
080BB3F8 (T)  ldr     r0,[r3,18h]                             ;9  2869
080BB3FA (T)  mov     r2,0h                                   ;2  2871
080BB3FC (T)  bl      m2_initwindow                           ;10 2881
080BB400 (T)  mov     r1,r9                                   ;2  2883
080BB402 (T)  ldr     r0,[r1,18h]                             ;4  2887
080BB404 (T)  bl      80C8BE4h                                ;10 2897
080BB408 (T)  mov     r0,r4                                   ;2  2899
080BB40A (T)  mov     r1,r5                                   ;2  2901
080BB40C (T)  mov     r2,23h                                  ;2  2903
080BB40E (T)  bl      m2_strlookup                            ;10 2913
080BB412 (T)  mov     r1,r0                                   ;2  2915
080BB414 (T)  mov     r2,r9                                   ;2  2917
080BB416 (T)  ldr     r0,[r2,0Ch]                             ;9  2926
080BB418 (T)  mov     r2,0h                                   ;2  2928
080BB41A (T)  bl      m2_initwindow                           ;10 2938
080BB41E (T)  mov     r3,r9                                   ;2  2940
080BB420 (T)  ldr     r0,[r3,0Ch]                             ;9  2949
080BB422 (T)  bl      80C8BE4h                                ;10 2959
080BB426 (T)  mov     r1,r9                                   ;2  2961
080BB428 (T)  ldr     r0,[r1,18h]                             ;4  2965
080BB42A (T)  mov     r5,0h                                   ;2  2967
080BB42C (T)  strh    r5,[r0,34h]                             ;5  2972
080BB42E (T)  ldr     r0,[r1,18h]                             ;4  2976
080BB430 (T)  bl      80C4B2Ch                                ;10 2986
080BB434 (T)  mov     r2,r9                                   ;2  2988
080BB436 (T)  ldr     r0,[r2,18h]                             ;9  2997
080BB438 (T)  ldr     r1,=8B1B3A0h                            ;9  3006
080BB43A (T)  bl      80BE53Ch                                ;10 3016
080BB43E (T)  mov     r3,r9                                   ;2  3018
080BB440 (T)  ldr     r0,[r3,18h]                             ;9  3027
080BB442 (T)  strh    r5,[r0,32h]                             ;5  3032
080BB444 (T)  ldr     r0,=3001D40h                            ;9  3041
080BB446 (T)  mov     r10,r0                                  ;2  3043
080BB448 (T)  ldr     r1,=m2_active_window_pc                 ;9  3052
080BB44A (T)  mov     r8,r1                                   ;2  3054
080BB44C (T)  mov     r2,0h                                   ;2  3056
080BB44E (T)  ldsh    r0,[r1,r2]                              ;7  3063
080BB450 (T)  mov     r6,6Ch                                  ;2  3065
080BB452 (T)  mul     r0,r6                                   ;3  3068
080BB454 (T)  add     r0,r10                                  ;2  3070
080BB456 (T)  add     r0,63h                                  ;2  3072
080BB458 (T)  ldrb    r0,[r0]                                 ;4  3076
080BB45A (T)  mov     r4,r7                                   ;2  3078
080BB45C (T)  add     r4,12h                                  ;2  3080
080BB45E (T)  mov     r1,r4                                   ;2  3082
080BB460 (T)  mov     r2,3h                                   ;2  3084
080BB462 (T)  bl      80CA65Ch                                ;10 3094
080BB466 (T)  mov     r3,0h                                   ;2  3096
080BB468 (T)  strb    r3,[r7,15h]                             ;5  3101
080BB46A (T)  mov     r0,0FFh                                 ;2  3103
080BB46C (T)  strb    r0,[r7,16h]                             ;5  3108
080BB46E (T)  mov     r1,r9                                   ;2  3110
080BB470 (T)  ldr     r0,[r1,14h]                             ;4  3114
080BB472 (T)  str     r5,[sp]                                 ;5  3119
080BB474 (T)  mov     r1,r4                                   ;2  3121
080BB476 (T)  mov     r2,7h                                   ;2  3123
080BB478 (T)  mov     r3,0h                                   ;2  3125
080BB47A (T)  bl      m2_printstr                             ;10 3135
080BB47E (T)  mov     r2,r8                                   ;2  3137
080BB480 (T)  mov     r3,0h                                   ;2  3139
080BB482 (T)  ldsh    r0,[r2,r3]                              ;4  3143
080BB484 (T)  mul     r0,r6                                   ;3  3146
080BB486 (T)  add     r0,r10                                  ;2  3148
080BB488 (T)  add     r0,64h                                  ;2  3150
080BB48A (T)  ldrb    r0,[r0]                                 ;4  3154
080BB48C (T)  mov     r1,r4                                   ;2  3156
080BB48E (T)  mov     r2,3h                                   ;2  3158
080BB490 (T)  bl      80CA65Ch                                ;10 3168
080BB494 (T)  mov     r0,0h                                   ;2  3170
080BB496 (T)  strb    r0,[r7,15h]                             ;5  3175
080BB498 (T)  mov     r0,1h                                   ;2  3177
080BB49A (T)  neg     r0,r0                                   ;2  3179
080BB49C (T)  strb    r0,[r7,16h]                             ;5  3184
080BB49E (T)  mov     r1,r9                                   ;2  3186
080BB4A0 (T)  ldr     r0,[r1,14h]                             ;4  3190
080BB4A2 (T)  str     r5,[sp]                                 ;5  3195
080BB4A4 (T)  mov     r1,r4                                   ;2  3197
080BB4A6 (T)  mov     r2,7h                                   ;2  3199
080BB4A8 (T)  mov     r3,1h                                   ;2  3201
080BB4AA (T)  bl      m2_printstr                             ;10 3211
080BB4AE (T)  mov     r0,4Dh                                  ;2  3213
080BB4B0 (T)  strb    r0,[r7,15h]                             ;5  3218
080BB4B2 (T)  strb    r0,[r7,14h]                             ;5  3223
080BB4B4 (T)  strb    r0,[r7,13h]                             ;5  3228
080BB4B6 (T)  strb    r0,[r7,12h]                             ;5  3233
080BB4B8 (T)  mov     r2,0h                                   ;2  3235
080BB4BA (T)  strb    r2,[r7,16h]                             ;5  3240
080BB4BC (T)  sub     r0,4Eh                                  ;2  3242
080BB4BE (T)  strb    r0,[r7,17h]                             ;5  3247
080BB4C0 (T)  mov     r3,r9                                   ;2  3249
080BB4C2 (T)  ldr     r0,[r3,14h]                             ;9  3258
080BB4C4 (T)  str     r5,[sp]                                 ;5  3263
080BB4C6 (T)  mov     r0,0Ch                                  ;2  3265
080BB4C8 (T)  mov     r1,0Bh                                  ;2  3267
080BB4CA (T)  mov     r2,4h                                   ;2  3269
080BB4CC (T)  bl      print_blankstr                          ;10 3279
080BB4D0 (T)  mov     r1,r9                                   ;2  3281
080BB4D2 (T)  b       80BBC02h                                ;8  3289
080BB4D4 (T)  strh    r4,[r4,r0]                              ;5  3294
080BB4D6 (T)  lsl     r0,r0,0Ch                               ;2  3296
080BB4D8 (T)  ldrb    r4,[r4,1Bh]                             ;4  3300
080BB4DA (T)  lsr     r1,r6,2h                                ;2  3302
080BB4DC (T)  strb    r4,[r4,10h]                             ;5  3307
080BB4DE (T)  lsr     r1,r6,2h                                ;2  3309
080BB4E0 (T)  ????                                            ;8  3317
080BB4E2 (T)  lsr     r1,r6,2h                                ;2  3319
080BB4E4 (T)  add     r0,r0,5                                 ;2  3321
080BB4E6 (T)  lsl     r0,r0,0Ch                               ;2  3323
080BB4E8 (T)  strh    r4,[r4,r1]                              ;5  3328
080BB4EA (T)  lsl     r0,r0,0Ch                               ;2  3330
080BB4EC (T)  cmp     r1,0FEh                                 ;2  3332
080BB4EE (T)  bne     80BB4F4h                                ;8  3340
080BB4F0 (T)  mov     r2,r9                                   ;2  3342
080BB4F2 (T)  b       80BBC3Eh                                ;8  3350
080BB4F4 (T)  cmp     r1,0h                                   ;2  3352
080BB4F6 (T)  bgt     80BB4FAh                                ;8  3360
080BB4F8 (T)  b       80BB624h                                ;8  3368
080BB4FA (T)  lsl     r0,r2,18h                               ;2  3370
080BB4FC (T)  lsr     r0,r0,18h                               ;2  3372
080BB4FE (T)  bl      80BBEE4h                                ;10 3382
080BB502 (T)  mov     r3,r9                                   ;2  3384
080BB504 (T)  ldr     r0,[r3,10h]                             ;9  3393
080BB506 (T)  bl      80CA904h                                ;10 3403
080BB50A (T)  mov     r0,0h                                   ;2  3405
080BB50C (T)  mov     r1,0F0h                                 ;2  3407
080BB50E (T)  mov     r2,14h                                  ;2  3409
080BB510 (T)  mov     r3,5h                                   ;2  3411
080BB512 (T)  bl      8000364h                                ;10 3421
080BB516 (T)  ldr     r1,=3005224h                            ;9  3430
080BB518 (T)  bl      baef8_reequip_erase                     ;10 3440
080BB51C (T)  ldr     r4,=8B17EE4h                            ;9  3449
080BB51E (T)  ldr     r5,=8B17424h                            ;9  3458
080BB520 (T)  mov     r0,r4                                   ;2  3460
080BB522 (T)  mov     r1,r5                                   ;2  3462
080BB524 (T)  mov     r2,25h                                  ;2  3464
080BB526 (T)  bl      m2_strlookup                            ;10 3474
080BB52A (T)  mov     r1,r0                                   ;2  3476
080BB52C (T)  mov     r2,r9                                   ;2  3478
080BB52E (T)  ldr     r0,[r2,18h]                             ;9  3487
080BB530 (T)  mov     r2,0h                                   ;2  3489
080BB532 (T)  bl      m2_initwindow                           ;10 3499
080BB536 (T)  mov     r3,r9                                   ;2  3501
080BB538 (T)  ldr     r0,[r3,18h]                             ;9  3510
080BB53A (T)  bl      80C8BE4h                                ;10 3520
080BB53E (T)  mov     r0,r4                                   ;2  3522
080BB540 (T)  mov     r1,r5                                   ;2  3524
080BB542 (T)  mov     r2,23h                                  ;2  3526
080BB544 (T)  bl      m2_strlookup                            ;10 3536
080BB548 (T)  mov     r1,r0                                   ;2  3538
080BB54A (T)  mov     r2,r9                                   ;2  3540
080BB54C (T)  ldr     r0,[r2,0Ch]                             ;9  3549
080BB54E (T)  mov     r2,0h                                   ;2  3551
080BB550 (T)  bl      m2_initwindow                           ;10 3561
080BB554 (T)  mov     r3,r9                                   ;2  3563
080BB556 (T)  ldr     r0,[r3,0Ch]                             ;9  3572
080BB558 (T)  bl      80C8BE4h                                ;10 3582
080BB55C (T)  mov     r1,r9                                   ;2  3584
080BB55E (T)  ldr     r0,[r1,18h]                             ;4  3588
080BB560 (T)  mov     r5,0h                                   ;2  3590
080BB562 (T)  strh    r5,[r0,34h]                             ;5  3595
080BB564 (T)  ldr     r0,[r1,18h]                             ;4  3599
080BB566 (T)  bl      80C4B2Ch                                ;10 3609
080BB56A (T)  mov     r2,r9                                   ;2  3611
080BB56C (T)  ldr     r0,[r2,18h]                             ;9  3620
080BB56E (T)  ldr     r1,=8B1B3A0h                            ;9  3629
080BB570 (T)  bl      80BE53Ch                                ;10 3639
080BB574 (T)  mov     r3,r9                                   ;2  3641
080BB576 (T)  ldr     r0,[r3,18h]                             ;9  3650
080BB578 (T)  strh    r5,[r0,32h]                             ;5  3655
080BB57A (T)  ldr     r0,=3001D40h                            ;9  3664
080BB57C (T)  mov     r10,r0                                  ;2  3666
080BB57E (T)  ldr     r1,=m2_active_window_pc                 ;9  3675
080BB580 (T)  mov     r8,r1                                   ;2  3677
080BB582 (T)  mov     r2,0h                                   ;2  3679
080BB584 (T)  ldsh    r0,[r1,r2]                              ;7  3686
080BB586 (T)  mov     r6,6Ch                                  ;2  3688
080BB588 (T)  mul     r0,r6                                   ;3  3691
080BB58A (T)  add     r0,r10                                  ;2  3693
080BB58C (T)  add     r0,63h                                  ;2  3695
080BB58E (T)  ldrb    r0,[r0]                                 ;4  3699
080BB590 (T)  mov     r4,r7                                   ;2  3701
080BB592 (T)  add     r4,12h                                  ;2  3703
080BB594 (T)  mov     r1,r4                                   ;2  3705
080BB596 (T)  mov     r2,3h                                   ;2  3707
080BB598 (T)  bl      80CA65Ch                                ;10 3717
080BB59C (T)  mov     r3,0h                                   ;2  3719
080BB59E (T)  strb    r3,[r7,15h]                             ;5  3724
080BB5A0 (T)  mov     r0,0FFh                                 ;2  3726
080BB5A2 (T)  strb    r0,[r7,16h]                             ;5  3731
080BB5A4 (T)  mov     r1,r9                                   ;2  3733
080BB5A6 (T)  ldr     r0,[r1,14h]                             ;4  3737
080BB5A8 (T)  str     r5,[sp]                                 ;5  3742
080BB5AA (T)  mov     r1,r4                                   ;2  3744
080BB5AC (T)  mov     r2,7h                                   ;2  3746
080BB5AE (T)  mov     r3,0h                                   ;2  3748
080BB5B0 (T)  bl      m2_printstr                             ;10 3758
080BB5B4 (T)  mov     r2,r8                                   ;2  3760
080BB5B6 (T)  mov     r3,0h                                   ;2  3762
080BB5B8 (T)  ldsh    r0,[r2,r3]                              ;4  3766
080BB5BA (T)  mul     r0,r6                                   ;3  3769
080BB5BC (T)  add     r0,r10                                  ;2  3771
080BB5BE (T)  add     r0,64h                                  ;2  3773
080BB5C0 (T)  ldrb    r0,[r0]                                 ;4  3777
080BB5C2 (T)  mov     r1,r4                                   ;2  3779
080BB5C4 (T)  mov     r2,3h                                   ;2  3781
080BB5C6 (T)  bl      80CA65Ch                                ;10 3791
080BB5CA (T)  mov     r0,0h                                   ;2  3793
080BB5CC (T)  strb    r0,[r7,15h]                             ;5  3798
080BB5CE (T)  mov     r0,1h                                   ;2  3800
080BB5D0 (T)  neg     r0,r0                                   ;2  3802
080BB5D2 (T)  strb    r0,[r7,16h]                             ;5  3807
080BB5D4 (T)  mov     r1,r9                                   ;2  3809
080BB5D6 (T)  ldr     r0,[r1,14h]                             ;4  3813
080BB5D8 (T)  str     r5,[sp]                                 ;5  3818
080BB5DA (T)  mov     r1,r4                                   ;2  3820
080BB5DC (T)  mov     r2,7h                                   ;2  3822
080BB5DE (T)  mov     r3,1h                                   ;2  3824
080BB5E0 (T)  bl      m2_printstr                             ;10 3834
080BB5E4 (T)  mov     r0,4Dh                                  ;2  3836
080BB5E6 (T)  strb    r0,[r7,15h]                             ;5  3841
080BB5E8 (T)  strb    r0,[r7,14h]                             ;5  3846
080BB5EA (T)  strb    r0,[r7,13h]                             ;5  3851
080BB5EC (T)  strb    r0,[r7,12h]                             ;5  3856
080BB5EE (T)  mov     r2,0h                                   ;2  3858
080BB5F0 (T)  strb    r2,[r7,16h]                             ;5  3863
080BB5F2 (T)  sub     r0,4Eh                                  ;2  3865
080BB5F4 (T)  strb    r0,[r7,17h]                             ;5  3870
080BB5F6 (T)  mov     r3,r9                                   ;2  3872
080BB5F8 (T)  ldr     r0,[r3,14h]                             ;9  3881
080BB5FA (T)  str     r5,[sp]                                 ;5  3886
080BB5FC (T)  mov     r0,0Ch                                  ;2  3888
080BB5FE (T)  mov     r1,0Bh                                  ;2  3890
080BB600 (T)  mov     r2,4h                                   ;2  3892
080BB602 (T)  bl      print_blankstr                          ;10 3902
080BB606 (T)  mov     r1,r9                                   ;2  3904
080BB608 (T)  b       80BBD60h                                ;8  3912
080BB60A (T)  lsl     r0,r0,0h                                ;2  3914
080BB60C (T)  strh    r4,[r4,r0]                              ;5  3919
080BB60E (T)  lsl     r0,r0,0Ch                               ;2  3921
080BB610 (T)  ldrb    r4,[r4,1Bh]                             ;4  3925
080BB612 (T)  lsr     r1,r6,2h                                ;2  3927
080BB614 (T)  strb    r4,[r4,10h]                             ;5  3932
080BB616 (T)  lsr     r1,r6,2h                                ;2  3934
080BB618 (T)  ????                                            ;8  3942
080BB61A (T)  lsr     r1,r6,2h                                ;2  3944
080BB61C (T)  add     r0,r0,5                                 ;2  3946
080BB61E (T)  lsl     r0,r0,0Ch                               ;2  3948
080BB620 (T)  strh    r4,[r4,r1]                              ;5  3953
080BB622 (T)  lsl     r0,r0,0Ch                               ;2  3955
080BB624 (T)  lsl     r0,r2,10h                               ;2  3957
080BB626 (T)  asr     r1,r0,10h                               ;2  3959
080BB628 (T)  ldr     r3,=0FF030000h                          ;9  3968
080BB62A (T)  add     r0,r0,r3                                ;2  3970
080BB62C (T)  lsr     r0,r0,10h                               ;2  3972
080BB62E (T)  cmp     r0,1h                                   ;2  3974
080BB630 (T)  bhi     80BB68Ch                                ;8  3982
080BB632 (T)  ldr     r0,=m2_active_window_pc                 ;9  3991
080BB634 (T)  mov     r8,r0                                   ;2  3993
080BB636 (T)  mov     r1,0h                                   ;2  3995
080BB638 (T)  ldsh    r0,[r0,r1]                              ;4  3999
080BB63A (T)  mov     r6,6Ch                                  ;2  4001
080BB63C (T)  mul     r0,r6                                   ;3  4004
080BB63E (T)  ldr     r2,=3001D40h                            ;9  4013
080BB640 (T)  add     r0,r0,r2                                ;2  4015
080BB642 (T)  add     r0,75h                                  ;2  4017
080BB644 (T)  ldrb    r0,[r0]                                 ;4  4021
080BB646 (T)  str     r0,[sp,4h]                              ;5  4026
080BB648 (T)  mov     r0,0h                                   ;2  4028
080BB64A (T)  bl      80BBF64h                                ;10 4038
080BB64E (T)  mov     r3,r8                                   ;2  4040
080BB650 (T)  mov     r1,0h                                   ;2  4042
080BB652 (T)  ldsh    r0,[r3,r1]                              ;7  4049
080BB654 (T)  mul     r0,r6                                   ;3  4052
080BB656 (T)  ldr     r2,=3001D40h                            ;9  4061
080BB658 (T)  add     r0,r0,r2                                ;2  4063
080BB65A (T)  add     r0,63h                                  ;2  4065
080BB65C (T)  ldrb    r0,[r0]                                 ;4  4069
080BB65E (T)  mov     r5,r7                                   ;2  4071
080BB660 (T)  add     r5,12h                                  ;2  4073
080BB662 (T)  mov     r1,r5                                   ;2  4075
080BB664 (T)  mov     r2,3h                                   ;2  4077
080BB666 (T)  bl      80CA65Ch                                ;10 4087
080BB66A (T)  mov     r4,0h                                   ;2  4089
080BB66C (T)  strb    r4,[r7,15h]                             ;5  4094
080BB66E (T)  mov     r0,0FFh                                 ;2  4096
080BB670 (T)  strb    r0,[r7,16h]                             ;5  4101
080BB672 (T)  ldr     r3,=3005230h                            ;9  4110
080BB674 (T)  mov     r10,r3                                  ;2  4112
080BB676 (T)  ldr     r0,[r3,14h]                             ;9  4121
080BB678 (T)  b       80BB6DCh                                ;8  4129
080BB67A (T)  lsl     r0,r0,0h                                ;2  4131
080BB67C (T)  lsl     r0,r0,0h                                ;2  4133
080BB67E (T)  bl      lr+0E06h                                ;10 4143
080BB680 (T)  strh    r4,[r4,r1]                              ;5  4148
080BB682 (T)  lsl     r0,r0,0Ch                               ;2  4150
080BB684 (T)  add     r0,r0,5                                 ;2  4152
080BB686 (T)  lsl     r0,r0,0Ch                               ;2  4154
080BB688 (T)  strh    r0,[r6,r0]                              ;5  4159
080BB68A (T)  lsl     r0,r0,0Ch                               ;2  4161
080BB68C (T)  cmp     r1,0h                                   ;2  4163
080BB68E (T)  bgt     80BB694h                                ;8  4171
080BB690 (T)  bl      80BBEC6h                                ;10 4181
080BB694 (T)  ldr     r3,=m2_active_window_pc                 ;9  4190
080BB696 (T)  mov     r8,r3                                   ;2  4192
080BB698 (T)  mov     r1,0h                                   ;2  4194
080BB69A (T)  ldsh    r0,[r3,r1]                              ;7  4201
080BB69C (T)  mov     r6,6Ch                                  ;2  4203
080BB69E (T)  mul     r0,r6                                   ;3  4206
080BB6A0 (T)  ldr     r3,=3001D40h                            ;9  4215
080BB6A2 (T)  add     r0,r0,r3                                ;2  4217
080BB6A4 (T)  add     r0,75h                                  ;2  4219
080BB6A6 (T)  ldrb    r0,[r0]                                 ;4  4223
080BB6A8 (T)  str     r0,[sp,4h]                              ;5  4228
080BB6AA (T)  lsl     r0,r2,18h                               ;2  4230
080BB6AC (T)  lsr     r0,r0,18h                               ;2  4232
080BB6AE (T)  bl      80BBF64h                                ;10 4242
080BB6B2 (T)  mov     r1,r8                                   ;2  4244
080BB6B4 (T)  mov     r2,0h                                   ;2  4246
080BB6B6 (T)  ldsh    r0,[r1,r2]                              ;7  4253
080BB6B8 (T)  mul     r0,r6                                   ;3  4256
080BB6BA (T)  ldr     r3,=3001D40h                            ;9  4265
080BB6BC (T)  add     r0,r0,r3                                ;2  4267
080BB6BE (T)  add     r0,63h                                  ;2  4269
080BB6C0 (T)  ldrb    r0,[r0]                                 ;4  4273
080BB6C2 (T)  mov     r5,r7                                   ;2  4275
080BB6C4 (T)  add     r5,12h                                  ;2  4277
080BB6C6 (T)  mov     r1,r5                                   ;2  4279
080BB6C8 (T)  mov     r2,3h                                   ;2  4281
080BB6CA (T)  bl      80CA65Ch                                ;10 4291
080BB6CE (T)  mov     r4,0h                                   ;2  4293
080BB6D0 (T)  strb    r4,[r7,15h]                             ;5  4298
080BB6D2 (T)  mov     r0,0FFh                                 ;2  4300
080BB6D4 (T)  strb    r0,[r7,16h]                             ;5  4305
080BB6D6 (T)  ldr     r0,=3005230h                            ;9  4314
080BB6D8 (T)  mov     r10,r0                                  ;2  4316
080BB6DA (T)  ldr     r0,[r0,14h]                             ;4  4320
080BB6DC (T)  str     r4,[sp]                                 ;5  4325
080BB6DE (T)  mov     r1,r5                                   ;2  4327
080BB6E0 (T)  mov     r2,0Bh                                  ;2  4329
080BB6E2 (T)  mov     r3,0h                                   ;2  4331
080BB6E4 (T)  bl      m2_printstr                             ;10 4341
080BB6E8 (T)  mov     r1,r8                                   ;2  4343
080BB6EA (T)  mov     r2,0h                                   ;2  4345
080BB6EC (T)  ldsh    r0,[r1,r2]                              ;7  4352
080BB6EE (T)  mul     r0,r6                                   ;3  4355
080BB6F0 (T)  ldr     r3,=3001D40h                            ;9  4364
080BB6F2 (T)  add     r0,r0,r3                                ;2  4366
080BB6F4 (T)  add     r0,64h                                  ;2  4368
080BB6F6 (T)  ldrb    r0,[r0]                                 ;4  4372
080BB6F8 (T)  mov     r1,r5                                   ;2  4374
080BB6FA (T)  mov     r2,3h                                   ;2  4376
080BB6FC (T)  bl      80CA65Ch                                ;10 4386
080BB700 (T)  strb    r4,[r7,15h]                             ;5  4391
080BB702 (T)  mov     r0,1h                                   ;2  4393
080BB704 (T)  neg     r0,r0                                   ;2  4395
080BB706 (T)  strb    r0,[r7,16h]                             ;5  4400
080BB708 (T)  mov     r1,r10                                  ;2  4402
080BB70A (T)  ldr     r0,[r1,14h]                             ;4  4406
080BB70C (T)  str     r4,[sp]                                 ;5  4411
080BB70E (T)  mov     r1,r5                                   ;2  4413
080BB710 (T)  mov     r2,0Bh                                  ;2  4415
080BB712 (T)  mov     r3,1h                                   ;2  4417
080BB714 (T)  bl      m2_printstr                             ;10 4427
080BB718 (T)  ldr     r0,[sp,4h]                              ;4  4431
080BB71A (T)  bl      80BBF64h                                ;10 4441
080BB71E (T)  b       80BBEC6h                                ;8  4449
080BB720 (T)  strh    r4,[r4,r1]                              ;5  4454
080BB722 (T)  lsl     r0,r0,0Ch                               ;2  4456
080BB724 (T)  add     r0,r0,5                                 ;2  4458
080BB726 (T)  lsl     r0,r0,0Ch                               ;2  4460
080BB728 (T)  strh    r0,[r6,r0]                              ;5  4465
080BB72A (T)  lsl     r0,r0,0Ch                               ;2  4467

// ----------------------------------------------------------------------------
// ----------------------------------------------------------------------------
// ----------------------------------------------------------------------------
// ----------------------------------------------------------------------------
// Substate 4 (Body select)
080BB72C (T)  ldr     r2,=3005230h                            ;9  4476
080BB72E (T)  ldr     r0,[r2,10h]                             ;9  4485
080BB730 (T)  bl      80C5500h                                ;10 4495
080BB734 (T)  lsl     r0,r0,10h                               ;2  4497
080BB736 (T)  lsr     r2,r0,10h                               ;2  4499
080BB738 (T)  ldr     r0,=3002500h                            ;9  4508
080BB73A (T)  ldrh    r1,[r0]                                 ;4  4512
080BB73C (T)  ldr     r0,=207h                                ;9  4521
080BB73E (T)  and     r0,r1                                   ;2  4523
080BB740 (T)  cmp     r0,0h                                   ;2  4525
080BB742 (T)  beq     80BB778h                                ;8  4533
080BB744 (T)  lsl     r0,r2,10h                               ;2  4535
080BB746 (T)  asr     r1,r0,10h                               ;2  4537
080BB748 (T)  mov     r0,1h                                   ;2  4539
080BB74A (T)  neg     r0,r0                                   ;2  4541
080BB74C (T)  cmp     r1,r0                                   ;2  4543
080BB74E (T)  bne     80BB752h                                ;8  4551
080BB750 (T)  b       80BB9B4h                                ;8  4559
080BB752 (T)  cmp     r1,0FDh                                 ;2  4561
080BB754 (T)  bne     80BB76Ch                                ;8  4569
080BB756 (T)  mov     r0,0h                                   ;2  4571
080BB758 (T)  bl      80BBF98h                                ;10 4581
080BB75C (T)  b       80BBAFCh                                ;8  4589
080BB75E (T)  lsl     r0,r0,0h                                ;2  4591
080BB760 (T)  strh    r0,[r6,r0]                              ;5  4596
080BB762 (T)  lsl     r0,r0,0Ch                               ;2  4598
080BB764 (T)  mov     r5,0h                                   ;2  4600
080BB766 (T)  lsl     r0,r0,0Ch                               ;2  4602
080BB768 (T)  lsl     r7,r0,8h                                ;2  4604
080BB76A (T)  lsl     r0,r0,0h                                ;2  4606
080BB76C (T)  cmp     r1,0FEh                                 ;2  4608
080BB76E (T)  bne     80BB772h                                ;8  4616
080BB770 (T)  b       80BBC3Ch                                ;8  4624
080BB772 (T)  cmp     r1,0h                                   ;2  4626
080BB774 (T)  ble     80BB778h                                ;8  4634
080BB776 (T)  b       80BBC52h                                ;8  4642
080BB778 (T)  lsl     r0,r2,10h                               ;2  4644
080BB77A (T)  asr     r0,r0,10h                               ;2  4646
080BB77C (T)  cmp     r0,0FDh                                 ;2  4648
080BB77E (T)  bne     80BB7C8h                                ;8  4656
080BB780 (T)  ldr     r2,=m2_active_window_pc                 ;9  4665
080BB782 (T)  mov     r8,r2                                   ;2  4667
080BB784 (T)  mov     r3,0h                                   ;2  4669
080BB786 (T)  ldsh    r0,[r2,r3]                              ;4  4673
080BB788 (T)  mov     r6,6Ch                                  ;2  4675
080BB78A (T)  mul     r0,r6                                   ;3  4678
080BB78C (T)  ldr     r1,=3001D40h                            ;9  4687
080BB78E (T)  add     r0,r0,r1                                ;2  4689
080BB790 (T)  add     r0,76h                                  ;2  4691
080BB792 (T)  ldrb    r0,[r0]                                 ;4  4695
080BB794 (T)  str     r0,[sp,4h]                              ;5  4700
080BB796 (T)  mov     r0,0h                                   ;2  4702
080BB798 (T)  bl      80BBF98h                                ;10 4712
080BB79C (T)  mov     r2,r8                                   ;2  4714
080BB79E (T)  mov     r3,0h                                   ;2  4716
080BB7A0 (T)  ldsh    r0,[r2,r3]                              ;4  4720
080BB7A2 (T)  mul     r0,r6                                   ;3  4723
080BB7A4 (T)  ldr     r1,=3001D40h                            ;9  4732
080BB7A6 (T)  add     r0,r0,r1                                ;2  4734
080BB7A8 (T)  add     r0,64h                                  ;2  4736
080BB7AA (T)  ldrb    r0,[r0]                                 ;4  4740
080BB7AC (T)  mov     r5,r7                                   ;2  4742
080BB7AE (T)  add     r5,12h                                  ;2  4744
080BB7B0 (T)  mov     r1,r5                                   ;2  4746
080BB7B2 (T)  mov     r2,3h                                   ;2  4748
080BB7B4 (T)  bl      80CA65Ch                                ;10 4758
080BB7B8 (T)  ldr     r0,[sp,4h]                              ;4  4762
080BB7BA (T)  bl      80BBF98h                                ;10 4772
080BB7BE (T)  b       80BBDDEh                                ;8  4780
080BB7C0 (T)  strh    r4,[r4,r1]                              ;5  4785
080BB7C2 (T)  lsl     r0,r0,0Ch                               ;2  4787
080BB7C4 (T)  add     r0,r0,5                                 ;2  4789
080BB7C6 (T)  lsl     r0,r0,0Ch                               ;2  4791
080BB7C8 (T)  cmp     r0,0h                                   ;2  4793
080BB7CA (T)  bgt     80BB7CEh                                ;8  4801
080BB7CC (T)  b       80BBEC6h                                ;8  4809
080BB7CE (T)  ldr     r0,=m2_active_window_pc                 ;9  4818
080BB7D0 (T)  mov     r8,r0                                   ;2  4820
080BB7D2 (T)  mov     r1,0h                                   ;2  4822
080BB7D4 (T)  ldsh    r0,[r0,r1]                              ;4  4826
080BB7D6 (T)  mov     r6,6Ch                                  ;2  4828
080BB7D8 (T)  mul     r0,r6                                   ;3  4831
080BB7DA (T)  ldr     r3,=3001D40h                            ;9  4840
080BB7DC (T)  add     r0,r0,r3                                ;2  4842
080BB7DE (T)  add     r0,76h                                  ;2  4844
080BB7E0 (T)  ldrb    r0,[r0]                                 ;4  4848
080BB7E2 (T)  str     r0,[sp,4h]                              ;5  4853
080BB7E4 (T)  lsl     r0,r2,18h                               ;2  4855
080BB7E6 (T)  lsr     r0,r0,18h                               ;2  4857
080BB7E8 (T)  bl      80BBF98h                                ;10 4867
080BB7EC (T)  mov     r1,r8                                   ;2  4869
080BB7EE (T)  mov     r2,0h                                   ;2  4871
080BB7F0 (T)  ldsh    r0,[r1,r2]                              ;7  4878
080BB7F2 (T)  mul     r0,r6                                   ;3  4881
080BB7F4 (T)  ldr     r3,=3001D40h                            ;9  4890
080BB7F6 (T)  add     r0,r0,r3                                ;2  4892
080BB7F8 (T)  add     r0,64h                                  ;2  4894
080BB7FA (T)  ldrb    r0,[r0]                                 ;4  4898
080BB7FC (T)  mov     r5,r7                                   ;2  4900
080BB7FE (T)  add     r5,12h                                  ;2  4902
080BB800 (T)  mov     r1,r5                                   ;2  4904
080BB802 (T)  mov     r2,3h                                   ;2  4906
080BB804 (T)  bl      80CA65Ch                                ;10 4916
080BB808 (T)  ldr     r0,[sp,4h]                              ;4  4920
080BB80A (T)  bl      80BBF98h                                ;10 4930
080BB80E (T)  mov     r4,0h                                   ;2  4932
080BB810 (T)  strb    r4,[r7,15h]                             ;5  4937
080BB812 (T)  mov     r0,0FFh                                 ;2  4939
080BB814 (T)  strb    r0,[r7,16h]                             ;5  4944
080BB816 (T)  ldr     r0,=3005230h                            ;9  4953
080BB818 (T)  mov     r10,r0                                  ;2  4955
080BB81A (T)  ldr     r0,[r0,14h]                             ;4  4959
080BB81C (T)  str     r4,[sp]                                 ;5  4964
080BB81E (T)  mov     r1,r5                                   ;2  4966
080BB820 (T)  mov     r2,0Bh                                  ;2  4968
080BB822 (T)  mov     r3,1h                                   ;2  4970
080BB824 (T)  bl      m2_printstr                             ;10 4980
080BB828 (T)  mov     r1,r8                                   ;2  4982
080BB82A (T)  mov     r2,0h                                   ;2  4984
080BB82C (T)  ldsh    r0,[r1,r2]                              ;7  4991
080BB82E (T)  mul     r0,r6                                   ;3  4994
080BB830 (T)  ldr     r3,=3001D40h                            ;9  5003
080BB832 (T)  add     r0,r0,r3                                ;2  5005
080BB834 (T)  add     r0,63h                                  ;2  5007
080BB836 (T)  ldrb    r0,[r0]                                 ;4  5011
080BB838 (T)  mov     r1,r5                                   ;2  5013
080BB83A (T)  mov     r2,3h                                   ;2  5015
080BB83C (T)  bl      80CA65Ch                                ;10 5025
080BB840 (T)  strb    r4,[r7,15h]                             ;5  5030
080BB842 (T)  mov     r0,1h                                   ;2  5032
080BB844 (T)  neg     r0,r0                                   ;2  5034
080BB846 (T)  strb    r0,[r7,16h]                             ;5  5039
080BB848 (T)  mov     r1,r10                                  ;2  5041
080BB84A (T)  ldr     r0,[r1,14h]                             ;4  5045
080BB84C (T)  b       80BBE1Ch                                ;8  5053
080BB84E (T)  lsl     r0,r0,0h                                ;2  5055
080BB850 (T)  strh    r4,[r4,r1]                              ;5  5060
080BB852 (T)  lsl     r0,r0,0Ch                               ;2  5062
080BB854 (T)  add     r0,r0,5                                 ;2  5064
080BB856 (T)  lsl     r0,r0,0Ch                               ;2  5066
080BB858 (T)  strh    r0,[r6,r0]                              ;5  5071
080BB85A (T)  lsl     r0,r0,0Ch                               ;2  5073

// ----------------------------------------------------------------------------
// ----------------------------------------------------------------------------
// ----------------------------------------------------------------------------
// ----------------------------------------------------------------------------
// Substate 5 (Arms select)
080BB85C (T)  ldr     r2,=3005230h                            ;9  5082
080BB85E (T)  ldr     r0,[r2,10h]                             ;9  5091
080BB860 (T)  bl      80C5500h                                ;10 5101
080BB864 (T)  lsl     r0,r0,10h                               ;2  5103
080BB866 (T)  lsr     r2,r0,10h                               ;2  5105
080BB868 (T)  ldr     r0,=3002500h                            ;9  5114
080BB86A (T)  ldrh    r1,[r0]                                 ;4  5118
080BB86C (T)  ldr     r0,=207h                                ;9  5127
080BB86E (T)  and     r0,r1                                   ;2  5129
080BB870 (T)  cmp     r0,0h                                   ;2  5131
080BB872 (T)  beq     80BB8A8h                                ;8  5139
080BB874 (T)  lsl     r0,r2,10h                               ;2  5141
080BB876 (T)  asr     r1,r0,10h                               ;2  5143
080BB878 (T)  mov     r0,1h                                   ;2  5145
080BB87A (T)  neg     r0,r0                                   ;2  5147
080BB87C (T)  cmp     r1,r0                                   ;2  5149
080BB87E (T)  bne     80BB882h                                ;8  5157
080BB880 (T)  b       80BB9B4h                                ;8  5165
080BB882 (T)  cmp     r1,0FDh                                 ;2  5167
080BB884 (T)  bne     80BB89Ch                                ;8  5175
080BB886 (T)  mov     r0,0h                                   ;2  5177
080BB888 (T)  bl      80BBFCCh                                ;10 5187
080BB88C (T)  b       80BBAFCh                                ;8  5195
080BB88E (T)  lsl     r0,r0,0h                                ;2  5197
080BB890 (T)  strh    r0,[r6,r0]                              ;5  5202
080BB892 (T)  lsl     r0,r0,0Ch                               ;2  5204
080BB894 (T)  mov     r5,0h                                   ;2  5206
080BB896 (T)  lsl     r0,r0,0Ch                               ;2  5208
080BB898 (T)  lsl     r7,r0,8h                                ;2  5210
080BB89A (T)  lsl     r0,r0,0h                                ;2  5212
080BB89C (T)  cmp     r1,0FEh                                 ;2  5214
080BB89E (T)  bne     80BB8A2h                                ;8  5222
080BB8A0 (T)  b       80BBC3Ch                                ;8  5230
080BB8A2 (T)  cmp     r1,0h                                   ;2  5232
080BB8A4 (T)  ble     80BB8A8h                                ;8  5240
080BB8A6 (T)  b       80BBC52h                                ;8  5248
080BB8A8 (T)  lsl     r0,r2,10h                               ;2  5250
080BB8AA (T)  asr     r0,r0,10h                               ;2  5252
080BB8AC (T)  cmp     r0,0FDh                                 ;2  5254
080BB8AE (T)  bne     80BB8F8h                                ;8  5262
080BB8B0 (T)  ldr     r2,=m2_active_window_pc                 ;9  5271
080BB8B2 (T)  mov     r8,r2                                   ;2  5273
080BB8B4 (T)  mov     r3,0h                                   ;2  5275
080BB8B6 (T)  ldsh    r0,[r2,r3]                              ;4  5279
080BB8B8 (T)  mov     r6,6Ch                                  ;2  5281
080BB8BA (T)  mul     r0,r6                                   ;3  5284
080BB8BC (T)  ldr     r1,=3001D40h                            ;9  5293
080BB8BE (T)  add     r0,r0,r1                                ;2  5295
080BB8C0 (T)  add     r0,77h                                  ;2  5297
080BB8C2 (T)  ldrb    r0,[r0]                                 ;4  5301
080BB8C4 (T)  str     r0,[sp,4h]                              ;5  5306
080BB8C6 (T)  mov     r0,0h                                   ;2  5308
080BB8C8 (T)  bl      80BBFCCh                                ;10 5318
080BB8CC (T)  mov     r2,r8                                   ;2  5320
080BB8CE (T)  mov     r3,0h                                   ;2  5322
080BB8D0 (T)  ldsh    r0,[r2,r3]                              ;4  5326
080BB8D2 (T)  mul     r0,r6                                   ;3  5329
080BB8D4 (T)  ldr     r1,=3001D40h                            ;9  5338
080BB8D6 (T)  add     r0,r0,r1                                ;2  5340
080BB8D8 (T)  add     r0,64h                                  ;2  5342
080BB8DA (T)  ldrb    r0,[r0]                                 ;4  5346
080BB8DC (T)  mov     r5,r7                                   ;2  5348
080BB8DE (T)  add     r5,12h                                  ;2  5350
080BB8E0 (T)  mov     r1,r5                                   ;2  5352
080BB8E2 (T)  mov     r2,3h                                   ;2  5354
080BB8E4 (T)  bl      80CA65Ch                                ;10 5364
080BB8E8 (T)  ldr     r0,[sp,4h]                              ;4  5368
080BB8EA (T)  bl      80BBFCCh                                ;10 5378
080BB8EE (T)  b       80BBDDEh                                ;8  5386
080BB8F0 (T)  strh    r4,[r4,r1]                              ;5  5391
080BB8F2 (T)  lsl     r0,r0,0Ch                               ;2  5393
080BB8F4 (T)  add     r0,r0,5                                 ;2  5395
080BB8F6 (T)  lsl     r0,r0,0Ch                               ;2  5397
080BB8F8 (T)  cmp     r0,0h                                   ;2  5399
080BB8FA (T)  bgt     80BB8FEh                                ;8  5407
080BB8FC (T)  b       80BBEC6h                                ;8  5415
080BB8FE (T)  ldr     r0,=m2_active_window_pc                 ;9  5424
080BB900 (T)  mov     r8,r0                                   ;2  5426
080BB902 (T)  mov     r1,0h                                   ;2  5428
080BB904 (T)  ldsh    r0,[r0,r1]                              ;4  5432
080BB906 (T)  mov     r6,6Ch                                  ;2  5434
080BB908 (T)  mul     r0,r6                                   ;3  5437
080BB90A (T)  ldr     r3,=3001D40h                            ;9  5446
080BB90C (T)  add     r0,r0,r3                                ;2  5448
080BB90E (T)  add     r0,77h                                  ;2  5450
080BB910 (T)  ldrb    r0,[r0]                                 ;4  5454
080BB912 (T)  str     r0,[sp,4h]                              ;5  5459
080BB914 (T)  lsl     r0,r2,18h                               ;2  5461
080BB916 (T)  lsr     r0,r0,18h                               ;2  5463
080BB918 (T)  bl      80BBFCCh                                ;10 5473
080BB91C (T)  mov     r1,r8                                   ;2  5475
080BB91E (T)  mov     r2,0h                                   ;2  5477
080BB920 (T)  ldsh    r0,[r1,r2]                              ;7  5484
080BB922 (T)  mul     r0,r6                                   ;3  5487
080BB924 (T)  ldr     r3,=3001D40h                            ;9  5496
080BB926 (T)  add     r0,r0,r3                                ;2  5498
080BB928 (T)  add     r0,64h                                  ;2  5500
080BB92A (T)  ldrb    r0,[r0]                                 ;4  5504
080BB92C (T)  mov     r5,r7                                   ;2  5506
080BB92E (T)  add     r5,12h                                  ;2  5508
080BB930 (T)  mov     r1,r5                                   ;2  5510
080BB932 (T)  mov     r2,3h                                   ;2  5512
080BB934 (T)  bl      80CA65Ch                                ;10 5522
080BB938 (T)  ldr     r0,[sp,4h]                              ;4  5526
080BB93A (T)  bl      80BBFCCh                                ;10 5536
080BB93E (T)  mov     r4,0h                                   ;2  5538
080BB940 (T)  strb    r4,[r7,15h]                             ;5  5543
080BB942 (T)  mov     r0,0FFh                                 ;2  5545
080BB944 (T)  strb    r0,[r7,16h]                             ;5  5550
080BB946 (T)  ldr     r0,=3005230h                            ;9  5559
080BB948 (T)  mov     r10,r0                                  ;2  5561
080BB94A (T)  ldr     r0,[r0,14h]                             ;4  5565
080BB94C (T)  str     r4,[sp]                                 ;5  5570
080BB94E (T)  mov     r1,r5                                   ;2  5572
080BB950 (T)  mov     r2,0Bh                                  ;2  5574
080BB952 (T)  mov     r3,1h                                   ;2  5576
080BB954 (T)  bl      m2_printstr                             ;10 5586
080BB958 (T)  mov     r1,r8                                   ;2  5588
080BB95A (T)  mov     r2,0h                                   ;2  5590
080BB95C (T)  ldsh    r0,[r1,r2]                              ;7  5597
080BB95E (T)  mul     r0,r6                                   ;3  5600
080BB960 (T)  ldr     r3,=3001D40h                            ;9  5609
080BB962 (T)  add     r0,r0,r3                                ;2  5611
080BB964 (T)  add     r0,63h                                  ;2  5613
080BB966 (T)  ldrb    r0,[r0]                                 ;4  5617
080BB968 (T)  mov     r1,r5                                   ;2  5619
080BB96A (T)  mov     r2,3h                                   ;2  5621
080BB96C (T)  bl      80CA65Ch                                ;10 5631
080BB970 (T)  strb    r4,[r7,15h]                             ;5  5636
080BB972 (T)  mov     r0,1h                                   ;2  5638
080BB974 (T)  neg     r0,r0                                   ;2  5640
080BB976 (T)  strb    r0,[r7,16h]                             ;5  5645
080BB978 (T)  mov     r1,r10                                  ;2  5647
080BB97A (T)  ldr     r0,[r1,14h]                             ;4  5651
080BB97C (T)  b       80BBE1Ch                                ;8  5659
080BB97E (T)  lsl     r0,r0,0h                                ;2  5661
080BB980 (T)  strh    r4,[r4,r1]                              ;5  5666
080BB982 (T)  lsl     r0,r0,0Ch                               ;2  5668
080BB984 (T)  add     r0,r0,5                                 ;2  5670
080BB986 (T)  lsl     r0,r0,0Ch                               ;2  5672
080BB988 (T)  strh    r0,[r6,r0]                              ;5  5677
080BB98A (T)  lsl     r0,r0,0Ch                               ;2  5679

// ----------------------------------------------------------------------------
// ----------------------------------------------------------------------------
// ----------------------------------------------------------------------------
// ----------------------------------------------------------------------------
// Substate 6 (Other select)
080BB98C (T)  ldr     r2,=3005230h                            ;9  5688
080BB98E (T)  ldr     r0,[r2,10h]                             ;9  5697
080BB990 (T)  bl      80C5500h                                ;10 5707
080BB994 (T)  lsl     r0,r0,10h                               ;2  5709
080BB996 (T)  lsr     r2,r0,10h                               ;2  5711
080BB998 (T)  ldr     r0,=3002500h                            ;9  5720
080BB99A (T)  ldrh    r1,[r0]                                 ;4  5724
080BB99C (T)  ldr     r0,=207h                                ;9  5733
080BB99E (T)  and     r0,r1                                   ;2  5735
080BB9A0 (T)  cmp     r0,0h                                   ;2  5737
080BB9A2 (T)  bne     80BB9A6h                                ;8  5745
080BB9A4 (T)  b       80BBD98h                                ;8  5753
080BB9A6 (T)  lsl     r0,r2,10h                               ;2  5755
080BB9A8 (T)  asr     r1,r0,10h                               ;2  5757
080BB9AA (T)  mov     r0,1h                                   ;2  5759
080BB9AC (T)  neg     r0,r0                                   ;2  5761
080BB9AE (T)  cmp     r1,r0                                   ;2  5763
080BB9B0 (T)  beq     80BB9B4h                                ;8  5771
080BB9B2 (T)  b       80BBAF0h                                ;8  5779
080BB9B4 (T)  ldr     r3,=3005230h                            ;9  5788
080BB9B6 (T)  ldr     r0,[r3,10h]                             ;9  5797
080BB9B8 (T)  bl      80CA904h                                ;10 5807
080BB9BC (T)  mov     r0,0h                                   ;2  5809
080BB9BE (T)  mov     r1,0F0h                                 ;2  5811
080BB9C0 (T)  mov     r2,14h                                  ;2  5813
080BB9C2 (T)  mov     r3,5h                                   ;2  5815
080BB9C4 (T)  bl      8000364h                                ;10 5825
080BB9C8 (T)  ldr     r1,=3005224h                            ;9  5834
080BB9CA (T)  mov     r0,2h                                   ;2  5836
080BB9CC (T)  strh    r0,[r1]                                 ;5  5841
080BB9CE (T)  ldr     r4,=8B17EE4h                            ;9  5850
080BB9D0 (T)  ldr     r5,=8B17424h                            ;9  5859
080BB9D2 (T)  mov     r0,r4                                   ;2  5861
080BB9D4 (T)  mov     r1,r5                                   ;2  5863
080BB9D6 (T)  mov     r2,25h                                  ;2  5865
080BB9D8 (T)  bl      m2_strlookup                            ;10 5875
080BB9DC (T)  mov     r1,r0                                   ;2  5877
080BB9DE (T)  ldr     r2,=3005230h                            ;9  5886
080BB9E0 (T)  ldr     r0,[r2,18h]                             ;9  5895
080BB9E2 (T)  mov     r2,0h                                   ;2  5897
080BB9E4 (T)  bl      m2_initwindow                           ;10 5907
080BB9E8 (T)  ldr     r3,=3005230h                            ;9  5916
080BB9EA (T)  ldr     r0,[r3,18h]                             ;9  5925
080BB9EC (T)  bl      80C8BE4h                                ;10 5935
080BB9F0 (T)  mov     r0,r4                                   ;2  5937
080BB9F2 (T)  mov     r1,r5                                   ;2  5939
080BB9F4 (T)  mov     r2,23h                                  ;2  5941
080BB9F6 (T)  bl      m2_strlookup                            ;10 5951
080BB9FA (T)  mov     r1,r0                                   ;2  5953
080BB9FC (T)  ldr     r2,=3005230h                            ;9  5962
080BB9FE (T)  ldr     r0,[r2,0Ch]                             ;9  5971
080BBA00 (T)  mov     r2,0h                                   ;2  5973
080BBA02 (T)  bl      m2_initwindow                           ;10 5983
080BBA06 (T)  ldr     r3,=3005230h                            ;9  5992
080BBA08 (T)  ldr     r0,[r3,0Ch]                             ;9  6001
080BBA0A (T)  bl      80C8BE4h                                ;10 6011
080BBA0E (T)  ldr     r1,=3005230h                            ;9  6020
080BBA10 (T)  ldr     r0,[r1,18h]                             ;4  6024
080BBA12 (T)  mov     r5,0h                                   ;2  6026
080BBA14 (T)  strh    r5,[r0,34h]                             ;5  6031
080BBA16 (T)  ldr     r0,[r1,18h]                             ;4  6035
080BBA18 (T)  bl      80C4B2Ch                                ;10 6045
080BBA1C (T)  ldr     r2,=3005230h                            ;9  6054
080BBA1E (T)  ldr     r0,[r2,18h]                             ;9  6063
080BBA20 (T)  ldr     r1,=8B1B3A0h                            ;9  6072
080BBA22 (T)  bl      80BE53Ch                                ;10 6082
080BBA26 (T)  ldr     r3,=3005230h                            ;9  6091
080BBA28 (T)  ldr     r0,[r3,18h]                             ;9  6100
080BBA2A (T)  strh    r5,[r0,32h]                             ;5  6105
080BBA2C (T)  ldr     r0,=3001D40h                            ;9  6114
080BBA2E (T)  mov     r10,r0                                  ;2  6116
080BBA30 (T)  ldr     r1,=m2_active_window_pc                 ;9  6125
080BBA32 (T)  mov     r8,r1                                   ;2  6127
080BBA34 (T)  mov     r2,0h                                   ;2  6129
080BBA36 (T)  ldsh    r0,[r1,r2]                              ;7  6136
080BBA38 (T)  mov     r6,6Ch                                  ;2  6138
080BBA3A (T)  mul     r0,r6                                   ;3  6141
080BBA3C (T)  add     r0,r10                                  ;2  6143
080BBA3E (T)  add     r0,63h                                  ;2  6145
080BBA40 (T)  ldrb    r0,[r0]                                 ;4  6149
080BBA42 (T)  mov     r4,r7                                   ;2  6151
080BBA44 (T)  add     r4,12h                                  ;2  6153
080BBA46 (T)  mov     r1,r4                                   ;2  6155
080BBA48 (T)  mov     r2,3h                                   ;2  6157
080BBA4A (T)  bl      80CA65Ch                                ;10 6167
080BBA4E (T)  mov     r3,0h                                   ;2  6169
080BBA50 (T)  strb    r3,[r7,15h]                             ;5  6174
080BBA52 (T)  mov     r0,0FFh                                 ;2  6176
080BBA54 (T)  strb    r0,[r7,16h]                             ;5  6181
080BBA56 (T)  ldr     r1,=3005230h                            ;9  6190
080BBA58 (T)  ldr     r0,[r1,14h]                             ;4  6194
080BBA5A (T)  str     r5,[sp]                                 ;5  6199
080BBA5C (T)  mov     r1,r4                                   ;2  6201
080BBA5E (T)  mov     r2,7h                                   ;2  6203
080BBA60 (T)  mov     r3,0h                                   ;2  6205
080BBA62 (T)  bl      m2_printstr                             ;10 6215
080BBA66 (T)  mov     r2,r8                                   ;2  6217
080BBA68 (T)  mov     r3,0h                                   ;2  6219
080BBA6A (T)  ldsh    r0,[r2,r3]                              ;4  6223
080BBA6C (T)  mul     r0,r6                                   ;3  6226
080BBA6E (T)  add     r0,r10                                  ;2  6228
080BBA70 (T)  add     r0,64h                                  ;2  6230
080BBA72 (T)  ldrb    r0,[r0]                                 ;4  6234
080BBA74 (T)  mov     r1,r4                                   ;2  6236
080BBA76 (T)  mov     r2,3h                                   ;2  6238
080BBA78 (T)  bl      80CA65Ch                                ;10 6248
080BBA7C (T)  mov     r0,0h                                   ;2  6250
080BBA7E (T)  strb    r0,[r7,15h]                             ;5  6255
080BBA80 (T)  mov     r0,1h                                   ;2  6257
080BBA82 (T)  neg     r0,r0                                   ;2  6259
080BBA84 (T)  strb    r0,[r7,16h]                             ;5  6264
080BBA86 (T)  ldr     r1,=3005230h                            ;9  6273
080BBA88 (T)  ldr     r0,[r1,14h]                             ;4  6277
080BBA8A (T)  str     r5,[sp]                                 ;5  6282
080BBA8C (T)  mov     r1,r4                                   ;2  6284
080BBA8E (T)  mov     r2,7h                                   ;2  6286
080BBA90 (T)  mov     r3,1h                                   ;2  6288
080BBA92 (T)  bl      m2_printstr                             ;10 6298
080BBA96 (T)  mov     r0,4Dh                                  ;2  6300
080BBA98 (T)  strb    r0,[r7,15h]                             ;5  6305
080BBA9A (T)  strb    r0,[r7,14h]                             ;5  6310
080BBA9C (T)  strb    r0,[r7,13h]                             ;5  6315
080BBA9E (T)  strb    r0,[r7,12h]                             ;5  6320
080BBAA0 (T)  mov     r2,0h                                   ;2  6322
080BBAA2 (T)  strb    r2,[r7,16h]                             ;5  6327
080BBAA4 (T)  sub     r0,4Eh                                  ;2  6329
080BBAA6 (T)  strb    r0,[r7,17h]                             ;5  6334
080BBAA8 (T)  ldr     r3,=3005230h                            ;9  6343
080BBAAA (T)  ldr     r0,[r3,14h]                             ;9  6352
080BBAAC (T)  str     r5,[sp]                                 ;5  6357
080BBAAE (T)  mov     r0,0Ch                                  ;2  6359
080BBAB0 (T)  mov     r1,0Bh                                  ;2  6361
080BBAB2 (T)  mov     r2,4h                                   ;2  6363
080BBAB4 (T)  bl      print_blankstr                          ;10 6373
080BBAB8 (T)  ldr     r1,=3005230h                            ;9  6382
080BBABA (T)  ldr     r0,[r1,14h]                             ;4  6386
080BBABC (T)  str     r5,[sp]                                 ;5  6391
080BBABE (T)  mov     r0,0Ch                                  ;2  6393
080BBAC0 (T)  mov     r1,0Dh                                  ;2  6395
080BBAC2 (T)  mov     r2,4h                                   ;2  6397
080BBAC4 (T)  bl      print_blankstr                          ;10 6407
080BBAC8 (T)  b       80BBEC6h                                ;8  6415
080BBACA (T)  lsl     r0,r0,0h                                ;2  6417
080BBACC (T)  strh    r0,[r6,r0]                              ;5  6422
080BBACE (T)  lsl     r0,r0,0Ch                               ;2  6424
080BBAD0 (T)  mov     r5,0h                                   ;2  6426
080BBAD2 (T)  lsl     r0,r0,0Ch                               ;2  6428
080BBAD4 (T)  lsl     r7,r0,8h                                ;2  6430
080BBAD6 (T)  lsl     r0,r0,0h                                ;2  6432
080BBAD8 (T)  strh    r4,[r4,r0]                              ;5  6437
080BBADA (T)  lsl     r0,r0,0Ch                               ;2  6439
080BBADC (T)  ldrb    r4,[r4,1Bh]                             ;4  6443
080BBADE (T)  lsr     r1,r6,2h                                ;2  6445
080BBAE0 (T)  strb    r4,[r4,10h]                             ;5  6450
080BBAE2 (T)  lsr     r1,r6,2h                                ;2  6452
080BBAE4 (T)  ????                                            ;8  6460
080BBAE6 (T)  lsr     r1,r6,2h                                ;2  6462
080BBAE8 (T)  add     r0,r0,5                                 ;2  6464
080BBAEA (T)  lsl     r0,r0,0Ch                               ;2  6466
080BBAEC (T)  strh    r4,[r4,r1]                              ;5  6471
080BBAEE (T)  lsl     r0,r0,0Ch                               ;2  6473
080BBAF0 (T)  cmp     r1,0FDh                                 ;2  6475
080BBAF2 (T)  beq     80BBAF6h                                ;8  6483
080BBAF4 (T)  b       80BBC38h                                ;8  6491
080BBAF6 (T)  mov     r0,0h                                   ;2  6493
080BBAF8 (T)  bl      80BC000h                                ;10 6503
080BBAFC (T)  ldr     r2,=3005230h                            ;9  6512
080BBAFE (T)  ldr     r0,[r2,10h]                             ;9  6521
080BBB00 (T)  bl      80CA904h                                ;10 6531
080BBB04 (T)  mov     r0,0h                                   ;2  6533
080BBB06 (T)  mov     r1,0F0h                                 ;2  6535
080BBB08 (T)  mov     r2,14h                                  ;2  6537
080BBB0A (T)  mov     r3,5h                                   ;2  6539
080BBB0C (T)  bl      8000364h                                ;10 6549
080BBB10 (T)  ldr     r1,=3005224h                            ;9  6558
080BBB12 (T)  bl      baef8_reequip_erase                     ;10 6568
080BBB16 (T)  ldr     r4,=8B17EE4h                            ;9  6577
080BBB18 (T)  ldr     r5,=8B17424h                            ;9  6586
080BBB1A (T)  mov     r0,r4                                   ;2  6588
080BBB1C (T)  mov     r1,r5                                   ;2  6590
080BBB1E (T)  mov     r2,25h                                  ;2  6592
080BBB20 (T)  bl      m2_strlookup                            ;10 6602
080BBB24 (T)  mov     r1,r0                                   ;2  6604
080BBB26 (T)  ldr     r3,=3005230h                            ;9  6613
080BBB28 (T)  ldr     r0,[r3,18h]                             ;9  6622
080BBB2A (T)  mov     r2,0h                                   ;2  6624
080BBB2C (T)  bl      m2_initwindow                           ;10 6634
080BBB30 (T)  ldr     r1,=3005230h                            ;9  6643
080BBB32 (T)  ldr     r0,[r1,18h]                             ;4  6647
080BBB34 (T)  bl      80C8BE4h                                ;10 6657
080BBB38 (T)  mov     r0,r4                                   ;2  6659
080BBB3A (T)  mov     r1,r5                                   ;2  6661
080BBB3C (T)  mov     r2,23h                                  ;2  6663
080BBB3E (T)  bl      m2_strlookup                            ;10 6673
080BBB42 (T)  mov     r1,r0                                   ;2  6675
080BBB44 (T)  ldr     r2,=3005230h                            ;9  6684
080BBB46 (T)  ldr     r0,[r2,0Ch]                             ;9  6693
080BBB48 (T)  mov     r2,0h                                   ;2  6695
080BBB4A (T)  bl      m2_initwindow                           ;10 6705
080BBB4E (T)  ldr     r3,=3005230h                            ;9  6714
080BBB50 (T)  ldr     r0,[r3,0Ch]                             ;9  6723
080BBB52 (T)  bl      80C8BE4h                                ;10 6733
080BBB56 (T)  ldr     r1,=3005230h                            ;9  6742
080BBB58 (T)  ldr     r0,[r1,18h]                             ;4  6746
080BBB5A (T)  mov     r5,0h                                   ;2  6748
080BBB5C (T)  strh    r5,[r0,34h]                             ;5  6753
080BBB5E (T)  ldr     r0,[r1,18h]                             ;4  6757
080BBB60 (T)  bl      80C4B2Ch                                ;10 6767
080BBB64 (T)  ldr     r2,=3005230h                            ;9  6776
080BBB66 (T)  ldr     r0,[r2,18h]                             ;9  6785
080BBB68 (T)  ldr     r1,=8B1B3A0h                            ;9  6794
080BBB6A (T)  bl      80BE53Ch                                ;10 6804
080BBB6E (T)  ldr     r3,=3005230h                            ;9  6813
080BBB70 (T)  ldr     r0,[r3,18h]                             ;9  6822
080BBB72 (T)  strh    r5,[r0,32h]                             ;5  6827
080BBB74 (T)  ldr     r0,=3001D40h                            ;9  6836
080BBB76 (T)  mov     r10,r0                                  ;2  6838
080BBB78 (T)  ldr     r1,=m2_active_window_pc                 ;9  6847
080BBB7A (T)  mov     r8,r1                                   ;2  6849
080BBB7C (T)  mov     r2,0h                                   ;2  6851
080BBB7E (T)  ldsh    r0,[r1,r2]                              ;7  6858
080BBB80 (T)  mov     r6,6Ch                                  ;2  6860
080BBB82 (T)  mul     r0,r6                                   ;3  6863
080BBB84 (T)  add     r0,r10                                  ;2  6865
080BBB86 (T)  add     r0,63h                                  ;2  6867
080BBB88 (T)  ldrb    r0,[r0]                                 ;4  6871
080BBB8A (T)  mov     r4,r7                                   ;2  6873
080BBB8C (T)  add     r4,12h                                  ;2  6875
080BBB8E (T)  mov     r1,r4                                   ;2  6877
080BBB90 (T)  mov     r2,3h                                   ;2  6879
080BBB92 (T)  bl      80CA65Ch                                ;10 6889
080BBB96 (T)  mov     r3,0h                                   ;2  6891
080BBB98 (T)  strb    r3,[r7,15h]                             ;5  6896
080BBB9A (T)  mov     r0,0FFh                                 ;2  6898
080BBB9C (T)  strb    r0,[r7,16h]                             ;5  6903
080BBB9E (T)  ldr     r1,=3005230h                            ;9  6912
080BBBA0 (T)  ldr     r0,[r1,14h]                             ;4  6916
080BBBA2 (T)  str     r5,[sp]                                 ;5  6921
080BBBA4 (T)  mov     r1,r4                                   ;2  6923
080BBBA6 (T)  mov     r2,7h                                   ;2  6925
080BBBA8 (T)  mov     r3,0h                                   ;2  6927
080BBBAA (T)  bl      m2_printstr                             ;10 6937
080BBBAE (T)  mov     r2,r8                                   ;2  6939
080BBBB0 (T)  mov     r3,0h                                   ;2  6941
080BBBB2 (T)  ldsh    r0,[r2,r3]                              ;4  6945
080BBBB4 (T)  mul     r0,r6                                   ;3  6948
080BBBB6 (T)  add     r0,r10                                  ;2  6950
080BBBB8 (T)  add     r0,64h                                  ;2  6952
080BBBBA (T)  ldrb    r0,[r0]                                 ;4  6956
080BBBBC (T)  mov     r1,r4                                   ;2  6958
080BBBBE (T)  mov     r2,3h                                   ;2  6960
080BBBC0 (T)  bl      80CA65Ch                                ;10 6970
080BBBC4 (T)  mov     r0,0h                                   ;2  6972
080BBBC6 (T)  strb    r0,[r7,15h]                             ;5  6977
080BBBC8 (T)  mov     r0,1h                                   ;2  6979
080BBBCA (T)  neg     r0,r0                                   ;2  6981
080BBBCC (T)  strb    r0,[r7,16h]                             ;5  6986
080BBBCE (T)  ldr     r1,=3005230h                            ;9  6995
080BBBD0 (T)  ldr     r0,[r1,14h]                             ;4  6999
080BBBD2 (T)  str     r5,[sp]                                 ;5  7004
080BBBD4 (T)  mov     r1,r4                                   ;2  7006
080BBBD6 (T)  mov     r2,7h                                   ;2  7008
080BBBD8 (T)  mov     r3,1h                                   ;2  7010
080BBBDA (T)  bl      m2_printstr                             ;10 7020
080BBBDE (T)  mov     r0,4Dh                                  ;2  7022
080BBBE0 (T)  strb    r0,[r7,15h]                             ;5  7027
080BBBE2 (T)  strb    r0,[r7,14h]                             ;5  7032
080BBBE4 (T)  strb    r0,[r7,13h]                             ;5  7037
080BBBE6 (T)  strb    r0,[r7,12h]                             ;5  7042
080BBBE8 (T)  mov     r2,0h                                   ;2  7044
080BBBEA (T)  strb    r2,[r7,16h]                             ;5  7049
080BBBEC (T)  sub     r0,4Eh                                  ;2  7051
080BBBEE (T)  strb    r0,[r7,17h]                             ;5  7056
080BBBF0 (T)  ldr     r3,=3005230h                            ;9  7065
080BBBF2 (T)  ldr     r0,[r3,14h]                             ;9  7074
080BBBF4 (T)  str     r5,[sp]                                 ;5  7079
080BBBF6 (T)  mov     r0,0Ch                                  ;2  7081
080BBBF8 (T)  mov     r1,0Bh                                  ;2  7083
080BBBFA (T)  mov     r2,4h                                   ;2  7085
080BBBFC (T)  bl      print_blankstr                          ;10 7095
080BBC00 (T)  ldr     r1,=3005230h                            ;9  7104
080BBC02 (T)  ldr     r0,[r1,14h]                             ;4  7108
080BBC04 (T)  str     r5,[sp]                                 ;5  7113
080BBC06 (T)  mov     r0,0Ch                                  ;2  7115
080BBC08 (T)  mov     r1,0Dh                                  ;2  7117
080BBC0A (T)  mov     r2,4h                                   ;2  7119
080BBC0C (T)  bl      print_blankstr                          ;10 7129
080BBC10 (T)  ldr     r0,=12Dh                                ;9  7138
080BBC12 (T)  bl      m2_soundeffect                          ;10 7148
080BBC16 (T)  b       80BBEC6h                                ;8  7156
080BBC18 (T)  strh    r0,[r6,r0]                              ;5  7161
080BBC1A (T)  lsl     r0,r0,0Ch                               ;2  7163
080BBC1C (T)  strh    r4,[r4,r0]                              ;5  7168
080BBC1E (T)  lsl     r0,r0,0Ch                               ;2  7170
080BBC20 (T)  ldrb    r4,[r4,1Bh]                             ;4  7174
080BBC22 (T)  lsr     r1,r6,2h                                ;2  7176
080BBC24 (T)  strb    r4,[r4,10h]                             ;5  7181
080BBC26 (T)  lsr     r1,r6,2h                                ;2  7183
080BBC28 (T)  ????                                            ;8  7191
080BBC2A (T)  lsr     r1,r6,2h                                ;2  7193
080BBC2C (T)  add     r0,r0,5                                 ;2  7195
080BBC2E (T)  lsl     r0,r0,0Ch                               ;2  7197
080BBC30 (T)  strh    r4,[r4,r1]                              ;5  7202
080BBC32 (T)  lsl     r0,r0,0Ch                               ;2  7204
080BBC34 (T)  lsl     r5,r5,4h                                ;2  7206
080BBC36 (T)  lsl     r0,r0,0h                                ;2  7208
080BBC38 (T)  cmp     r1,0FEh                                 ;2  7210
080BBC3A (T)  bne     80BBC4Ch                                ;8  7218
080BBC3C (T)  ldr     r2,=3005230h                            ;9  7227
080BBC3E (T)  ldr     r0,[r2,10h]                             ;9  7236
080BBC40 (T)  add     r0,44h                                  ;2  7238
080BBC42 (T)  mov     r1,1h                                   ;2  7240
080BBC44 (T)  strb    r1,[r0]                                 ;5  7245
080BBC46 (T)  b       80BBEC6h                                ;8  7253
080BBC48 (T)  strh    r0,[r6,r0]                              ;5  7258
080BBC4A (T)  lsl     r0,r0,0Ch                               ;2  7260
080BBC4C (T)  cmp     r1,0h                                   ;2  7262
080BBC4E (T)  bgt     80BBC52h                                ;8  7270
080BBC50 (T)  b       80BBD98h                                ;8  7278
080BBC52 (T)  lsl     r0,r2,18h                               ;2  7280
080BBC54 (T)  lsr     r0,r0,18h                               ;2  7282
080BBC56 (T)  bl      80BBEE4h                                ;10 7292
080BBC5A (T)  ldr     r3,=3005230h                            ;9  7301
080BBC5C (T)  ldr     r0,[r3,10h]                             ;9  7310
080BBC5E (T)  bl      80CA904h                                ;10 7320
080BBC62 (T)  mov     r0,0h                                   ;2  7322
080BBC64 (T)  mov     r1,0F0h                                 ;2  7324
080BBC66 (T)  mov     r2,14h                                  ;2  7326
080BBC68 (T)  mov     r3,5h                                   ;2  7328
080BBC6A (T)  bl      8000364h                                ;10 7338
080BBC6E (T)  ldr     r1,=3005224h                            ;9  7347
080BBC70 (T)  bl      baef8_reequip_erase                     ;10 7357
080BBC74 (T)  ldr     r4,=8B17EE4h                            ;9  7366
080BBC76 (T)  ldr     r5,=8B17424h                            ;9  7375
080BBC78 (T)  mov     r0,r4                                   ;2  7377
080BBC7A (T)  mov     r1,r5                                   ;2  7379
080BBC7C (T)  mov     r2,25h                                  ;2  7381
080BBC7E (T)  bl      m2_strlookup                            ;10 7391
080BBC82 (T)  mov     r1,r0                                   ;2  7393
080BBC84 (T)  ldr     r2,=3005230h                            ;9  7402
080BBC86 (T)  ldr     r0,[r2,18h]                             ;9  7411
080BBC88 (T)  mov     r2,0h                                   ;2  7413
080BBC8A (T)  bl      m2_initwindow                           ;10 7423
080BBC8E (T)  ldr     r3,=3005230h                            ;9  7432
080BBC90 (T)  ldr     r0,[r3,18h]                             ;9  7441
080BBC92 (T)  bl      80C8BE4h                                ;10 7451
080BBC96 (T)  mov     r0,r4                                   ;2  7453
080BBC98 (T)  mov     r1,r5                                   ;2  7455
080BBC9A (T)  mov     r2,23h                                  ;2  7457
080BBC9C (T)  bl      m2_strlookup                            ;10 7467
080BBCA0 (T)  mov     r1,r0                                   ;2  7469
080BBCA2 (T)  ldr     r2,=3005230h                            ;9  7478
080BBCA4 (T)  ldr     r0,[r2,0Ch]                             ;9  7487
080BBCA6 (T)  mov     r2,0h                                   ;2  7489
080BBCA8 (T)  bl      m2_initwindow                           ;10 7499
080BBCAC (T)  ldr     r3,=3005230h                            ;9  7508
080BBCAE (T)  ldr     r0,[r3,0Ch]                             ;9  7517
080BBCB0 (T)  bl      80C8BE4h                                ;10 7527
080BBCB4 (T)  ldr     r1,=3005230h                            ;9  7536
080BBCB6 (T)  ldr     r0,[r1,18h]                             ;4  7540
080BBCB8 (T)  mov     r5,0h                                   ;2  7542
080BBCBA (T)  strh    r5,[r0,34h]                             ;5  7547
080BBCBC (T)  ldr     r0,[r1,18h]                             ;4  7551
080BBCBE (T)  bl      80C4B2Ch                                ;10 7561
080BBCC2 (T)  ldr     r2,=3005230h                            ;9  7570
080BBCC4 (T)  ldr     r0,[r2,18h]                             ;9  7579
080BBCC6 (T)  ldr     r1,=8B1B3A0h                            ;9  7588
080BBCC8 (T)  bl      80BE53Ch                                ;10 7598
080BBCCC (T)  ldr     r3,=3005230h                            ;9  7607
080BBCCE (T)  ldr     r0,[r3,18h]                             ;9  7616
080BBCD0 (T)  strh    r5,[r0,32h]                             ;5  7621
080BBCD2 (T)  ldr     r0,=3001D40h                            ;9  7630
080BBCD4 (T)  mov     r10,r0                                  ;2  7632
080BBCD6 (T)  ldr     r1,=m2_active_window_pc                 ;9  7641
080BBCD8 (T)  mov     r8,r1                                   ;2  7643
080BBCDA (T)  mov     r2,0h                                   ;2  7645
080BBCDC (T)  ldsh    r0,[r1,r2]                              ;7  7652
080BBCDE (T)  mov     r6,6Ch                                  ;2  7654
080BBCE0 (T)  mul     r0,r6                                   ;3  7657
080BBCE2 (T)  add     r0,r10                                  ;2  7659
080BBCE4 (T)  add     r0,63h                                  ;2  7661
080BBCE6 (T)  ldrb    r0,[r0]                                 ;4  7665
080BBCE8 (T)  mov     r4,r7                                   ;2  7667
080BBCEA (T)  add     r4,12h                                  ;2  7669
080BBCEC (T)  mov     r1,r4                                   ;2  7671
080BBCEE (T)  mov     r2,3h                                   ;2  7673
080BBCF0 (T)  bl      80CA65Ch                                ;10 7683
080BBCF4 (T)  mov     r3,0h                                   ;2  7685
080BBCF6 (T)  strb    r3,[r7,15h]                             ;5  7690
080BBCF8 (T)  mov     r0,0FFh                                 ;2  7692
080BBCFA (T)  strb    r0,[r7,16h]                             ;5  7697
080BBCFC (T)  ldr     r1,=3005230h                            ;9  7706
080BBCFE (T)  ldr     r0,[r1,14h]                             ;4  7710
080BBD00 (T)  str     r5,[sp]                                 ;5  7715
080BBD02 (T)  mov     r1,r4                                   ;2  7717
080BBD04 (T)  mov     r2,7h                                   ;2  7719
080BBD06 (T)  mov     r3,0h                                   ;2  7721
080BBD08 (T)  bl      m2_printstr                             ;10 7731
080BBD0C (T)  mov     r2,r8                                   ;2  7733
080BBD0E (T)  mov     r3,0h                                   ;2  7735
080BBD10 (T)  ldsh    r0,[r2,r3]                              ;4  7739
080BBD12 (T)  mul     r0,r6                                   ;3  7742
080BBD14 (T)  add     r0,r10                                  ;2  7744
080BBD16 (T)  add     r0,64h                                  ;2  7746
080BBD18 (T)  ldrb    r0,[r0]                                 ;4  7750
080BBD1A (T)  mov     r1,r4                                   ;2  7752
080BBD1C (T)  mov     r2,3h                                   ;2  7754
080BBD1E (T)  bl      80CA65Ch                                ;10 7764
080BBD22 (T)  mov     r0,0h                                   ;2  7766
080BBD24 (T)  strb    r0,[r7,15h]                             ;5  7771
080BBD26 (T)  mov     r0,1h                                   ;2  7773
080BBD28 (T)  neg     r0,r0                                   ;2  7775
080BBD2A (T)  strb    r0,[r7,16h]                             ;5  7780
080BBD2C (T)  ldr     r1,=3005230h                            ;9  7789
080BBD2E (T)  ldr     r0,[r1,14h]                             ;4  7793
080BBD30 (T)  str     r5,[sp]                                 ;5  7798
080BBD32 (T)  mov     r1,r4                                   ;2  7800
080BBD34 (T)  mov     r2,7h                                   ;2  7802
080BBD36 (T)  mov     r3,1h                                   ;2  7804
080BBD38 (T)  bl      m2_printstr                             ;10 7814
080BBD3C (T)  mov     r0,4Dh                                  ;2  7816
080BBD3E (T)  strb    r0,[r7,15h]                             ;5  7821
080BBD40 (T)  strb    r0,[r7,14h]                             ;5  7826
080BBD42 (T)  strb    r0,[r7,13h]                             ;5  7831
080BBD44 (T)  strb    r0,[r7,12h]                             ;5  7836
080BBD46 (T)  mov     r2,0h                                   ;2  7838
080BBD48 (T)  strb    r2,[r7,16h]                             ;5  7843
080BBD4A (T)  sub     r0,4Eh                                  ;2  7845
080BBD4C (T)  strb    r0,[r7,17h]                             ;5  7850
080BBD4E (T)  ldr     r3,=3005230h                            ;9  7859
080BBD50 (T)  ldr     r0,[r3,14h]                             ;9  7868
080BBD52 (T)  str     r5,[sp]                                 ;5  7873
080BBD54 (T)  mov     r0,0Ch                                  ;2  7875
080BBD56 (T)  mov     r1,0Bh                                  ;2  7877
080BBD58 (T)  mov     r2,4h                                   ;2  7879
080BBD5A (T)  bl      print_blankstr                          ;10 7889
080BBD5E (T)  ldr     r1,=3005230h                            ;9  7898
080BBD60 (T)  ldr     r0,[r1,14h]                             ;4  7902
080BBD62 (T)  str     r5,[sp]                                 ;5  7907
080BBD64 (T)  mov     r0,0Ch                                  ;2  7909
080BBD66 (T)  mov     r1,0Dh                                  ;2  7911
080BBD68 (T)  mov     r2,4h                                   ;2  7913
080BBD6A (T)  bl      print_blankstr                          ;10 7923
080BBD6E (T)  ldr     r0,=19Fh                                ;9  7932
080BBD70 (T)  bl      m2_soundeffect                          ;10 7942
080BBD74 (T)  b       80BBEC6h                                ;8  7950
080BBD76 (T)  lsl     r0,r0,0h                                ;2  7952
080BBD78 (T)  strh    r0,[r6,r0]                              ;5  7957
080BBD7A (T)  lsl     r0,r0,0Ch                               ;2  7959
080BBD7C (T)  strh    r4,[r4,r0]                              ;5  7964
080BBD7E (T)  lsl     r0,r0,0Ch                               ;2  7966
080BBD80 (T)  ldrb    r4,[r4,1Bh]                             ;4  7970
080BBD82 (T)  lsr     r1,r6,2h                                ;2  7972
080BBD84 (T)  strb    r4,[r4,10h]                             ;5  7977
080BBD86 (T)  lsr     r1,r6,2h                                ;2  7979
080BBD88 (T)  ????                                            ;8  7987
080BBD8A (T)  lsr     r1,r6,2h                                ;2  7989
080BBD8C (T)  add     r0,r0,5                                 ;2  7991
080BBD8E (T)  lsl     r0,r0,0Ch                               ;2  7993
080BBD90 (T)  strh    r4,[r4,r1]                              ;5  7998
080BBD92 (T)  lsl     r0,r0,0Ch                               ;2  8000
080BBD94 (T)  lsl     r7,r3,6h                                ;2  8002
080BBD96 (T)  lsl     r0,r0,0h                                ;2  8004
080BBD98 (T)  lsl     r0,r2,10h                               ;2  8006
080BBD9A (T)  asr     r0,r0,10h                               ;2  8008
080BBD9C (T)  cmp     r0,0FDh                                 ;2  8010
080BBD9E (T)  bne     80BBE38h                                ;8  8018
080BBDA0 (T)  ldr     r2,=m2_active_window_pc                 ;9  8027
080BBDA2 (T)  mov     r8,r2                                   ;2  8029
080BBDA4 (T)  mov     r3,0h                                   ;2  8031
080BBDA6 (T)  ldsh    r0,[r2,r3]                              ;4  8035
080BBDA8 (T)  mov     r6,6Ch                                  ;2  8037
080BBDAA (T)  mul     r0,r6                                   ;3  8040
080BBDAC (T)  ldr     r1,=3001D40h                            ;9  8049
080BBDAE (T)  add     r0,r0,r1                                ;2  8051
080BBDB0 (T)  add     r0,78h                                  ;2  8053
080BBDB2 (T)  ldrb    r0,[r0]                                 ;4  8057
080BBDB4 (T)  str     r0,[sp,4h]                              ;5  8062
080BBDB6 (T)  mov     r0,0h                                   ;2  8064
080BBDB8 (T)  bl      80BC000h                                ;10 8074
080BBDBC (T)  mov     r2,r8                                   ;2  8076
080BBDBE (T)  mov     r3,0h                                   ;2  8078
080BBDC0 (T)  ldsh    r0,[r2,r3]                              ;4  8082
080BBDC2 (T)  mul     r0,r6                                   ;3  8085
080BBDC4 (T)  ldr     r1,=3001D40h                            ;9  8094
080BBDC6 (T)  add     r0,r0,r1                                ;2  8096
080BBDC8 (T)  add     r0,64h                                  ;2  8098
080BBDCA (T)  ldrb    r0,[r0]                                 ;4  8102
080BBDCC (T)  mov     r5,r7                                   ;2  8104
080BBDCE (T)  add     r5,12h                                  ;2  8106
080BBDD0 (T)  mov     r1,r5                                   ;2  8108
080BBDD2 (T)  mov     r2,3h                                   ;2  8110
080BBDD4 (T)  bl      80CA65Ch                                ;10 8120
080BBDD8 (T)  ldr     r0,[sp,4h]                              ;4  8124
080BBDDA (T)  bl      80BC000h                                ;10 8134
080BBDDE (T)  mov     r4,0h                                   ;2  8136
080BBDE0 (T)  strb    r4,[r7,15h]                             ;5  8141
080BBDE2 (T)  mov     r0,0FFh                                 ;2  8143
080BBDE4 (T)  strb    r0,[r7,16h]                             ;5  8148
080BBDE6 (T)  ldr     r2,=3005230h                            ;9  8157
080BBDE8 (T)  mov     r10,r2                                  ;2  8159
080BBDEA (T)  ldr     r0,[r2,14h]                             ;9  8168
080BBDEC (T)  str     r4,[sp]                                 ;5  8173
080BBDEE (T)  mov     r1,r5                                   ;2  8175
080BBDF0 (T)  mov     r2,0Bh                                  ;2  8177
080BBDF2 (T)  mov     r3,1h                                   ;2  8179
080BBDF4 (T)  bl      m2_printstr                             ;10 8189
080BBDF8 (T)  mov     r3,r8                                   ;2  8191
080BBDFA (T)  mov     r1,0h                                   ;2  8193
080BBDFC (T)  ldsh    r0,[r3,r1]                              ;7  8200
080BBDFE (T)  mul     r0,r6                                   ;3  8203
080BBE00 (T)  ldr     r2,=3001D40h                            ;9  8212
080BBE02 (T)  add     r0,r0,r2                                ;2  8214
080BBE04 (T)  add     r0,63h                                  ;2  8216
080BBE06 (T)  ldrb    r0,[r0]                                 ;4  8220
080BBE08 (T)  mov     r1,r5                                   ;2  8222
080BBE0A (T)  mov     r2,3h                                   ;2  8224
080BBE0C (T)  bl      80CA65Ch                                ;10 8234
080BBE10 (T)  strb    r4,[r7,15h]                             ;5  8239
080BBE12 (T)  mov     r0,1h                                   ;2  8241
080BBE14 (T)  neg     r0,r0                                   ;2  8243
080BBE16 (T)  strb    r0,[r7,16h]                             ;5  8248
080BBE18 (T)  mov     r3,r10                                  ;2  8250
080BBE1A (T)  ldr     r0,[r3,14h]                             ;9  8259
080BBE1C (T)  str     r4,[sp]                                 ;5  8264
080BBE1E (T)  mov     r1,r5                                   ;2  8266
080BBE20 (T)  mov     r2,0Bh                                  ;2  8268
080BBE22 (T)  mov     r3,0h                                   ;2  8270
080BBE24 (T)  bl      m2_printstr                             ;10 8280
080BBE28 (T)  b       80BBEC6h                                ;8  8288
080BBE2A (T)  lsl     r0,r0,0h                                ;2  8290
080BBE2C (T)  strh    r4,[r4,r1]                              ;5  8295
080BBE2E (T)  lsl     r0,r0,0Ch                               ;2  8297
080BBE30 (T)  add     r0,r0,5                                 ;2  8299
080BBE32 (T)  lsl     r0,r0,0Ch                               ;2  8301
080BBE34 (T)  strh    r0,[r6,r0]                              ;5  8306
080BBE36 (T)  lsl     r0,r0,0Ch                               ;2  8308
080BBE38 (T)  cmp     r0,0h                                   ;2  8310
080BBE3A (T)  ble     80BBEC6h                                ;8  8318
080BBE3C (T)  ldr     r0,=m2_active_window_pc                 ;9  8327
080BBE3E (T)  mov     r8,r0                                   ;2  8329
080BBE40 (T)  mov     r1,0h                                   ;2  8331
080BBE42 (T)  ldsh    r0,[r0,r1]                              ;4  8335
080BBE44 (T)  mov     r6,6Ch                                  ;2  8337
080BBE46 (T)  mul     r0,r6                                   ;3  8340
080BBE48 (T)  ldr     r3,=3001D40h                            ;9  8349
080BBE4A (T)  add     r0,r0,r3                                ;2  8351
080BBE4C (T)  add     r0,78h                                  ;2  8353
080BBE4E (T)  ldrb    r0,[r0]                                 ;4  8357
080BBE50 (T)  str     r0,[sp,4h]                              ;5  8362
080BBE52 (T)  lsl     r0,r2,18h                               ;2  8364
080BBE54 (T)  lsr     r0,r0,18h                               ;2  8366
080BBE56 (T)  bl      80BC000h                                ;10 8376
080BBE5A (T)  mov     r1,r8                                   ;2  8378
080BBE5C (T)  mov     r2,0h                                   ;2  8380
080BBE5E (T)  ldsh    r0,[r1,r2]                              ;7  8387
080BBE60 (T)  mul     r0,r6                                   ;3  8390
080BBE62 (T)  ldr     r3,=3001D40h                            ;9  8399
080BBE64 (T)  add     r0,r0,r3                                ;2  8401
080BBE66 (T)  add     r0,64h                                  ;2  8403
080BBE68 (T)  ldrb    r0,[r0]                                 ;4  8407
080BBE6A (T)  mov     r5,r7                                   ;2  8409
080BBE6C (T)  add     r5,12h                                  ;2  8411
080BBE6E (T)  mov     r1,r5                                   ;2  8413
080BBE70 (T)  mov     r2,3h                                   ;2  8415
080BBE72 (T)  bl      80CA65Ch                                ;10 8425
080BBE76 (T)  ldr     r0,[sp,4h]                              ;4  8429
080BBE78 (T)  bl      80BC000h                                ;10 8439
080BBE7C (T)  mov     r4,0h                                   ;2  8441
080BBE7E (T)  strb    r4,[r7,15h]                             ;5  8446
080BBE80 (T)  mov     r0,0FFh                                 ;2  8448
080BBE82 (T)  strb    r0,[r7,16h]                             ;5  8453
080BBE84 (T)  ldr     r0,=3005230h                            ;9  8462
080BBE86 (T)  mov     r10,r0                                  ;2  8464
080BBE88 (T)  ldr     r0,[r0,14h]                             ;4  8468
080BBE8A (T)  str     r4,[sp]                                 ;5  8473
080BBE8C (T)  mov     r1,r5                                   ;2  8475
080BBE8E (T)  mov     r2,0Bh                                  ;2  8477
080BBE90 (T)  mov     r3,1h                                   ;2  8479
080BBE92 (T)  bl      m2_printstr                             ;10 8489
080BBE96 (T)  mov     r1,r8                                   ;2  8491
080BBE98 (T)  mov     r2,0h                                   ;2  8493
080BBE9A (T)  ldsh    r0,[r1,r2]                              ;7  8500
080BBE9C (T)  mul     r0,r6                                   ;3  8503
080BBE9E (T)  ldr     r3,=3001D40h                            ;9  8512
080BBEA0 (T)  add     r0,r0,r3                                ;2  8514
080BBEA2 (T)  add     r0,63h                                  ;2  8516
080BBEA4 (T)  ldrb    r0,[r0]                                 ;4  8520
080BBEA6 (T)  mov     r1,r5                                   ;2  8522
080BBEA8 (T)  mov     r2,3h                                   ;2  8524
080BBEAA (T)  bl      80CA65Ch                                ;10 8534
080BBEAE (T)  strb    r4,[r7,15h]                             ;5  8539
080BBEB0 (T)  mov     r0,1h                                   ;2  8541
080BBEB2 (T)  neg     r0,r0                                   ;2  8543
080BBEB4 (T)  strb    r0,[r7,16h]                             ;5  8548
080BBEB6 (T)  mov     r1,r10                                  ;2  8550
080BBEB8 (T)  ldr     r0,[r1,14h]                             ;4  8554
080BBEBA (T)  str     r4,[sp]                                 ;5  8559
080BBEBC (T)  mov     r1,r5                                   ;2  8561
080BBEBE (T)  mov     r2,0Bh                                  ;2  8563
080BBEC0 (T)  mov     r3,0h                                   ;2  8565
080BBEC2 (T)  bl      m2_printstr                             ;10 8575
080BBEC6 (T)  mov     r0,0h                                   ;2  8577
080BBEC8 (T)  add     sp,8h                                   ;2  8579
080BBECA (T)  pop     r3-r5                                   ;17 8596
080BBECC (T)  mov     r8,r3                                   ;2  8598
080BBECE (T)  mov     r9,r4                                   ;2  8600
080BBED0 (T)  mov     r10,r5                                  ;2  8602
080BBED2 (T)  pop     r4-r7                                   ;21 8623
080BBED4 (T)  pop     r1                                      ;9  8632
080BBED6 (T)  bx      r1                                      ;8  8640
